[debug] [2021-11-08T11:28:42.541Z] ----------------------------------------------------------------------
[debug] [2021-11-08T11:28:42.544Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-11-08T11:28:42.545Z] CLI Version:   9.22.0
[debug] [2021-11-08T11:28:42.545Z] Platform:      win32
[debug] [2021-11-08T11:28:42.545Z] Node Version:  v16.13.0
[debug] [2021-11-08T11:28:42.547Z] Time:          Mon Nov 08 2021 16:58:42 GMT+0530 (India Standard Time)
[debug] [2021-11-08T11:28:42.547Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-11-08T11:28:42.634Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-11-08T11:28:42.635Z] > authorizing via signed-in user (shaikhanas668@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-11-08T11:28:42.679Z] [hub] writing locator at C:\Users\Anas\AppData\Local\Temp\hub-challenge-ba906.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] !  Your requested "node" version "14" doesn't match your global version "16" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"16\""}}
[debug] [2021-11-08T11:28:42.733Z] defaultcredentials: writing to file C:\Users\Anas\AppData\Roaming\firebase\shaikhanas668_gmail_com_application_default_credentials.json
[debug] [2021-11-08T11:28:42.736Z] Setting GAC to C:\Users\Anas\AppData\Roaming\firebase\shaikhanas668_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Anas\\AppData\\Roaming\\firebase\\shaikhanas668_gmail_com_application_default_credentials.json"}}
[debug] [2021-11-08T11:28:42.740Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/adminSdkConfig [none]
[debug] [2021-11-08T11:28:43.232Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/adminSdkConfig 200
[debug] [2021-11-08T11:28:43.233Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/adminSdkConfig {"projectId":"challenge-ba906","storageBucket":"challenge-ba906.appspot.com"}
[debug] [2021-11-08T11:28:43.330Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-ba906/sites 
[debug] [2021-11-08T11:28:45.060Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-ba906/sites 200
[debug] [2021-11-08T11:28:45.060Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-ba906/sites {"sites":[{"name":"projects/198637966903/sites/challenge-ba906","defaultUrl":"https://challenge-ba906.web.app","appId":"1:198637966903:web:02b17e4701861064c5d1b2","type":"DEFAULT_SITE"}]}
[debug] [2021-11-08T11:28:45.062Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/webApps/1:198637966903:web:02b17e4701861064c5d1b2/config [none]
[debug] [2021-11-08T11:28:46.555Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/webApps/1:198637966903:web:02b17e4701861064c5d1b2/config 200
[debug] [2021-11-08T11:28:46.556Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-ba906/webApps/1:198637966903:web:02b17e4701861064c5d1b2/config {"projectId":"challenge-ba906","appId":"1:198637966903:web:02b17e4701861064c5d1b2","storageBucket":"challenge-ba906.appspot.com","apiKey":"AIzaSyBpYa-ADvFpA4hIg3ArzGvvGlSB0vO_2C0","authDomain":"challenge-ba906.firebaseapp.com","messagingSenderId":"198637966903","measurementId":"G-XKWRLP7NM9"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-11-08T11:28:46.667Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-11-08T11:28:46.667Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-11-08T11:28:46.668Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Anas\\.cache\\firebase\\emulators\\ui-v1.6.4\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Anas\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.6.4\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-11-08T11:28:46.863Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2021-11-08T11:28:46.997Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T11:28:46.997Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T11:28:46.998Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T11:28:46.998Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8644 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8644"}}
[debug] [2021-11-08T11:28:46.999Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: BUSY"}}
[debug] [2021-11-08T11:28:47.325Z] [runtime-status] [8644] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:28:47.326Z] [runtime-status] [8644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:28:47.331Z] [runtime-status] [8644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.337Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.340Z] [runtime-status] [8644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:28:47.342Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.427Z] [runtime-status] [8644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:28:47.428Z] [runtime-status] [8644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:28:47.430Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.433Z] [runtime-status] [8644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.434Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:28:47.435Z] [runtime-status] [8644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[us-central1-api]: http function initialized (http://localhost:5001/challenge-ba906/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/challenge-ba906/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-11-08T11:28:47.774Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: IDLE"}}
[debug] [2021-11-08T11:32:15.798Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:32:15.799Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:32:15.800Z] Accepted request GET /challenge-ba906/us-central1/api --> us-central1-api
[debug] [2021-11-08T11:32:15.819Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:32:15.820Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:32:15.820Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:32:15.820Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4360 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4360"}}
[debug] [2021-11-08T11:32:15.822Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: BUSY"}}
[debug] [2021-11-08T11:32:16.296Z] [runtime-status] [4360] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:32:16.298Z] [runtime-status] [4360] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:32:16.305Z] [runtime-status] [4360] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.312Z] [runtime-status] [4360] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.315Z] [runtime-status] [4360] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:32:16.317Z] [runtime-status] [4360] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.423Z] [runtime-status] [4360] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:32:16.424Z] [runtime-status] [4360] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:32:16.430Z] [runtime-status] [4360] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.433Z] [runtime-status] [4360] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.434Z] [runtime-status] [4360] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:32:16.435Z] [runtime-status] [4360] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:32:16.797Z] [runtime-status] [4360] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:32:16.800Z] [runtime-status] [4360] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:32:16.800Z] [runtime-status] [4360] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:32:16.805Z] [runtime-status] [4360] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4360 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4360"}}
[debug] [2021-11-08T11:32:16.816Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:32:16.817Z] [functions] Got req.url=/challenge-ba906/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api, mapping to path=/"}}
[debug] [2021-11-08T11:32:16.836Z] [runtime-status] [4360] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Ephemeral server handling GET request"}}
[debug] [2021-11-08T11:32:16.853Z] [runtime-status] [4360] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4360] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T11:32:16.869Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: IDLE"}}
[debug] [2021-11-08T11:32:16.869Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:32:16.988Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-11-08T11:34:52.542Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T11:34:53.548Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T11:34:53.549Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: FINISHING"}}
[debug] [2021-11-08T11:34:53.553Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-11-08T11:34:53.554Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: FINISHING"}}
[debug] [2021-11-08T11:34:53.588Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T11:34:53.588Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T11:34:53.588Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T11:34:53.589Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11716 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11716"}}
[debug] [2021-11-08T11:34:53.589Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: BUSY"}}
[debug] [2021-11-08T11:34:53.593Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: exited"}}
[debug] [2021-11-08T11:34:53.594Z] [worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-51a3be45-146a-47d0-8510-ed581c360938]: FINISHED"}}
[debug] [2021-11-08T11:34:53.609Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: exited"}}
[debug] [2021-11-08T11:34:53.610Z] [worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-14339955-ee87-4fce-84ff-54f9d13eceb3]: FINISHED"}}
[debug] [2021-11-08T11:34:54.571Z] [runtime-status] [11716] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:34:54.575Z] [runtime-status] [11716] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:34:54.582Z] [runtime-status] [11716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.594Z] [runtime-status] [11716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.596Z] [runtime-status] [11716] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:34:54.599Z] [runtime-status] [11716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.744Z] [runtime-status] [11716] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:34:54.745Z] [runtime-status] [11716] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:34:54.747Z] [runtime-status] [11716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.750Z] [runtime-status] [11716] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.754Z] [runtime-status] [11716] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:34:54.755Z] [runtime-status] [11716] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11716] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:34:55.159Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: IDLE"}}
[debug] [2021-11-08T11:39:50.879Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T11:39:51.881Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T11:39:51.881Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: FINISHING"}}
[debug] [2021-11-08T11:39:51.882Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T11:39:51.883Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T11:39:51.892Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T11:39:51.892Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T11:39:51.892Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T11:39:51.892Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9160 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9160"}}
[debug] [2021-11-08T11:39:51.893Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: BUSY"}}
[debug] [2021-11-08T11:39:51.894Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: exited"}}
[debug] [2021-11-08T11:39:51.894Z] [worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ccc766c8-b440-435a-b695-200957b9e5e3]: FINISHED"}}
[debug] [2021-11-08T11:39:52.202Z] [runtime-status] [9160] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:39:52.204Z] [runtime-status] [9160] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:39:52.210Z] [runtime-status] [9160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.215Z] [runtime-status] [9160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.218Z] [runtime-status] [9160] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:39:52.220Z] [runtime-status] [9160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.312Z] [runtime-status] [9160] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:39:52.313Z] [runtime-status] [9160] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:39:52.315Z] [runtime-status] [9160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.318Z] [runtime-status] [9160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.320Z] [runtime-status] [9160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:39:52.320Z] [runtime-status] [9160] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9160] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:39:52.645Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: IDLE"}}
[debug] [2021-11-08T11:41:09.653Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T11:41:10.656Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T11:41:10.657Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: FINISHING"}}
[debug] [2021-11-08T11:41:10.658Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T11:41:10.679Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T11:41:10.681Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T11:41:10.682Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T11:41:10.683Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9680 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9680"}}
[debug] [2021-11-08T11:41:10.684Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: BUSY"}}
[debug] [2021-11-08T11:41:10.685Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: exited"}}
[debug] [2021-11-08T11:41:10.685Z] [worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a745f522-bcf4-4957-a37d-1dbafd62993d]: FINISHED"}}
[debug] [2021-11-08T11:41:11.061Z] [runtime-status] [9680] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:41:11.111Z] [runtime-status] [9680] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:41:11.154Z] [runtime-status] [9680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.176Z] [runtime-status] [9680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.189Z] [runtime-status] [9680] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:41:11.194Z] [runtime-status] [9680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.355Z] [runtime-status] [9680] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:41:11.355Z] [runtime-status] [9680] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:41:11.357Z] [runtime-status] [9680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.360Z] [runtime-status] [9680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.362Z] [runtime-status] [9680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:41:11.362Z] [runtime-status] [9680] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9680] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:41:12.544Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: IDLE"}}
[debug] [2021-11-08T11:44:48.592Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:44:48.593Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:44:48.593Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T11:44:48.594Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T11:44:48.604Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:44:48.604Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:44:48.604Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:44:48.604Z] [worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15244 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15244"}}
[debug] [2021-11-08T11:44:48.604Z] [worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: BUSY"}}
[debug] [2021-11-08T11:44:49.141Z] [runtime-status] [15244] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:44:49.148Z] [runtime-status] [15244] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:44:49.155Z] [runtime-status] [15244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.166Z] [runtime-status] [15244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.170Z] [runtime-status] [15244] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:44:49.174Z] [runtime-status] [15244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.370Z] [runtime-status] [15244] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:44:49.371Z] [runtime-status] [15244] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:44:49.375Z] [runtime-status] [15244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.383Z] [runtime-status] [15244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.385Z] [runtime-status] [15244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:44:49.385Z] [runtime-status] [15244] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:44:49.889Z] [runtime-status] [15244] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:44:49.892Z] [runtime-status] [15244] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:44:49.894Z] [runtime-status] [15244] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:44:49.903Z] [runtime-status] [15244] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15244 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15244"}}
[debug] [2021-11-08T11:44:49.911Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:44:49.912Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T11:44:49.923Z] [runtime-status] [15244] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T11:44:49.935Z] [runtime-status] [15244] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15244] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T11:44:49.997Z] [worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: exited"}}
[debug] [2021-11-08T11:44:49.997Z] [worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-39ebf248-69e0-4a86-9289-13d77aa73ca4]: FINISHED"}}
[debug] [2021-11-08T11:44:49.998Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:46:13.561Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:46:13.562Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:46:13.562Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T11:46:13.562Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T11:46:13.576Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:46:13.576Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:46:13.576Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:46:13.576Z] [worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3616 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3616"}}
[debug] [2021-11-08T11:46:13.577Z] [worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: BUSY"}}
[debug] [2021-11-08T11:46:14.182Z] [runtime-status] [3616] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:46:14.184Z] [runtime-status] [3616] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:46:14.195Z] [runtime-status] [3616] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.200Z] [runtime-status] [3616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.208Z] [runtime-status] [3616] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:46:14.212Z] [runtime-status] [3616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.326Z] [runtime-status] [3616] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:46:14.327Z] [runtime-status] [3616] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:46:14.330Z] [runtime-status] [3616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.334Z] [runtime-status] [3616] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.339Z] [runtime-status] [3616] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:46:14.340Z] [runtime-status] [3616] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:46:14.744Z] [runtime-status] [3616] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:46:14.746Z] [runtime-status] [3616] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:46:14.747Z] [runtime-status] [3616] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:46:14.753Z] [runtime-status] [3616] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3616 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3616"}}
[debug] [2021-11-08T11:46:14.762Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:46:14.762Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T11:46:14.778Z] [runtime-status] [3616] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T11:46:14.788Z] [runtime-status] [3616] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3616] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T11:46:14.835Z] [worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: exited"}}
[debug] [2021-11-08T11:46:14.836Z] [worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5fc4dc35-d35d-4560-bd3a-05b13cabde78]: FINISHED"}}
[debug] [2021-11-08T11:46:14.840Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:48:32.413Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:48:32.415Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:48:32.415Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T11:48:32.416Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T11:48:32.432Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:48:32.432Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:48:32.432Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:48:32.433Z] [worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14324"}}
[debug] [2021-11-08T11:48:32.433Z] [worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: BUSY"}}
[debug] [2021-11-08T11:48:33.482Z] [runtime-status] [14324] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:48:33.492Z] [runtime-status] [14324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:48:33.515Z] [runtime-status] [14324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:33.529Z] [runtime-status] [14324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:33.535Z] [runtime-status] [14324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:48:33.540Z] [runtime-status] [14324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:33.967Z] [runtime-status] [14324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:48:33.998Z] [runtime-status] [14324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:48:34.024Z] [runtime-status] [14324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:34.046Z] [runtime-status] [14324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:34.073Z] [runtime-status] [14324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:48:34.076Z] [runtime-status] [14324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:48:35.148Z] [runtime-status] [14324] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:48:35.151Z] [runtime-status] [14324] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:48:35.152Z] [runtime-status] [14324] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:48:35.161Z] [runtime-status] [14324] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14324 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14324"}}
[debug] [2021-11-08T11:48:35.169Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:48:35.169Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T11:48:35.196Z] [runtime-status] [14324] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T11:48:35.210Z] [runtime-status] [14324] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14324] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T11:48:35.276Z] [worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: exited"}}
[debug] [2021-11-08T11:48:35.277Z] [worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-626e9526-61b3-4ab0-ad34-86202c359bcf]: FINISHED"}}
[debug] [2021-11-08T11:48:35.279Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:52:27.196Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:52:27.197Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:52:27.197Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T11:52:27.198Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T11:52:27.218Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:52:27.218Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:52:27.219Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:52:27.219Z] [worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8964 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8964"}}
[debug] [2021-11-08T11:52:27.219Z] [worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: BUSY"}}
[debug] [2021-11-08T11:52:27.935Z] [runtime-status] [8964] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:52:27.937Z] [runtime-status] [8964] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:52:27.943Z] [runtime-status] [8964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:27.950Z] [runtime-status] [8964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:27.953Z] [runtime-status] [8964] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:52:27.955Z] [runtime-status] [8964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:28.086Z] [runtime-status] [8964] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:52:28.087Z] [runtime-status] [8964] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:52:28.092Z] [runtime-status] [8964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:28.098Z] [runtime-status] [8964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:28.118Z] [runtime-status] [8964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:52:28.118Z] [runtime-status] [8964] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:52:28.599Z] [runtime-status] [8964] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:52:28.603Z] [runtime-status] [8964] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:52:28.603Z] [runtime-status] [8964] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:52:28.613Z] [runtime-status] [8964] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8964 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8964"}}
[debug] [2021-11-08T11:52:28.621Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:52:28.622Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T11:52:28.644Z] [runtime-status] [8964] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T11:52:28.662Z] [runtime-status] [8964] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8964] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T11:52:28.712Z] [worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: exited"}}
[debug] [2021-11-08T11:52:28.713Z] [worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d8e2efa3-49dc-452c-9b0c-be1fe6dd0ed3]: FINISHED"}}
[debug] [2021-11-08T11:52:28.713Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:56:16.456Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:56:16.457Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:56:16.457Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100 --> us-central1-api
[debug] [2021-11-08T11:56:16.457Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T11:56:16.466Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T11:56:16.466Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T11:56:16.467Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:56:16.467Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10672 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10672"}}
[debug] [2021-11-08T11:56:16.467Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: BUSY"}}
[debug] [2021-11-08T11:56:16.821Z] [runtime-status] [10672] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T11:56:16.823Z] [runtime-status] [10672] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Disabled runtime features: undefined"}}
[debug] [2021-11-08T11:56:16.830Z] [runtime-status] [10672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:16.838Z] [runtime-status] [10672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:16.842Z] [runtime-status] [10672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T11:56:16.844Z] [runtime-status] [10672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:17.060Z] [runtime-status] [10672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T11:56:17.061Z] [runtime-status] [10672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:56:17.061Z] [runtime-status] [10672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:17.061Z] [runtime-status] [10672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:17.062Z] [runtime-status] [10672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T11:56:17.062Z] [runtime-status] [10672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T11:56:17.772Z] [runtime-status] [10672] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:56:17.774Z] [runtime-status] [10672] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:56:17.774Z] [runtime-status] [10672] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:56:17.779Z] [runtime-status] [10672] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10672 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10672"}}
[debug] [2021-11-08T11:56:17.788Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:56:17.788Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100"}}
[debug] [2021-11-08T11:56:17.801Z] [runtime-status] [10672] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Ephemeral server handling GET request"}}
[debug] [2021-11-08T11:56:17.817Z] [runtime-status] [10672] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T11:56:17.826Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: IDLE"}}
[debug] [2021-11-08T11:56:17.826Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T11:59:55.529Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T11:59:55.531Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T11:59:55.531Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100 --> us-central1-api
[debug] [2021-11-08T11:59:55.533Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T11:59:55.534Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10672 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10672"}}
[debug] [2021-11-08T11:59:55.535Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: BUSY"}}
[debug] [2021-11-08T11:59:55.538Z] [runtime-status] [10672] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T11:59:55.544Z] [runtime-status] [10672] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T11:59:55.545Z] [runtime-status] [10672] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Running us-central1-api in signature http"}}
[debug] [2021-11-08T11:59:55.545Z] [runtime-status] [10672] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10672 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10672"}}
[debug] [2021-11-08T11:59:55.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T11:59:55.552Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100"}}
[debug] [2021-11-08T11:59:55.566Z] [runtime-status] [10672] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Ephemeral server handling GET request"}}
[debug] [2021-11-08T11:59:55.573Z] [runtime-status] [10672] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10672] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T11:59:55.577Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: IDLE"}}
[debug] [2021-11-08T11:59:55.577Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:06:30.753Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:06:31.767Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:06:31.768Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: FINISHING"}}
[debug] [2021-11-08T12:06:31.769Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-11-08T12:06:31.770Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: FINISHING"}}
[debug] [2021-11-08T12:06:31.793Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:06:31.794Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:06:31.794Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:06:31.794Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2196"}}
[debug] [2021-11-08T12:06:31.794Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: BUSY"}}
[debug] [2021-11-08T12:06:31.796Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: exited"}}
[debug] [2021-11-08T12:06:31.796Z] [worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3c38040f-286f-44bd-b30a-e25314fafbe1]: FINISHED"}}
[debug] [2021-11-08T12:06:31.797Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: exited"}}
[debug] [2021-11-08T12:06:31.797Z] [worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c55f350f-5cec-41a6-b69b-25445e7d2932]: FINISHED"}}
[debug] [2021-11-08T12:06:32.517Z] [runtime-status] [2196] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:06:32.519Z] [runtime-status] [2196] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:06:32.525Z] [runtime-status] [2196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.530Z] [runtime-status] [2196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.533Z] [runtime-status] [2196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:06:32.535Z] [runtime-status] [2196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.623Z] [runtime-status] [2196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:06:32.624Z] [runtime-status] [2196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:06:32.626Z] [runtime-status] [2196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.629Z] [runtime-status] [2196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.630Z] [runtime-status] [2196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:32.631Z] [runtime-status] [2196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:06:33.224Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: IDLE"}}
[debug] [2021-11-08T12:06:51.850Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:06:51.850Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:06:51.850Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100 --> us-central1-api
[debug] [2021-11-08T12:06:51.851Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:06:51.851Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:06:51.859Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:06:51.860Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:06:51.860Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:06:51.860Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3588 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3588"}}
[debug] [2021-11-08T12:06:51.861Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: BUSY"}}
[debug] [2021-11-08T12:06:52.218Z] [runtime-status] [3588] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:06:52.220Z] [runtime-status] [3588] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:06:52.226Z] [runtime-status] [3588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.233Z] [runtime-status] [3588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.235Z] [runtime-status] [3588] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:06:52.237Z] [runtime-status] [3588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.338Z] [runtime-status] [3588] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:06:52.338Z] [runtime-status] [3588] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:06:52.340Z] [runtime-status] [3588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.344Z] [runtime-status] [3588] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.347Z] [runtime-status] [3588] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:06:52.347Z] [runtime-status] [3588] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:06:52.683Z] [runtime-status] [3588] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:06:52.685Z] [runtime-status] [3588] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:06:52.686Z] [runtime-status] [3588] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:06:52.692Z] [runtime-status] [3588] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3588 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3588"}}
[debug] [2021-11-08T12:06:52.700Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:06:52.701Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100"}}
[debug] [2021-11-08T12:06:52.714Z] [runtime-status] [3588] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Ephemeral server handling GET request"}}
[debug] [2021-11-08T12:06:52.727Z] [runtime-status] [3588] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T12:06:52.742Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: IDLE"}}
[debug] [2021-11-08T12:06:52.742Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:06:58.693Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:06:58.693Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:06:58.693Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:06:58.694Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:06:58.694Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3588 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3588"}}
[debug] [2021-11-08T12:06:58.694Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: BUSY"}}
[debug] [2021-11-08T12:06:58.695Z] [runtime-status] [3588] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:06:58.697Z] [runtime-status] [3588] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:06:58.697Z] [runtime-status] [3588] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:06:58.698Z] [runtime-status] [3588] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3588 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3588"}}
[debug] [2021-11-08T12:06:58.700Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:06:58.700Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:06:58.706Z] [runtime-status] [3588] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:06:58.711Z] [runtime-status] [3588] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3588] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:06:58.785Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: exited"}}
[debug] [2021-11-08T12:06:58.786Z] [worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99072c59-4493-4598-abd8-38a9816e0098]: FINISHED"}}
[debug] [2021-11-08T12:06:58.786Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:07:59.263Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:07:59.264Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:07:59.264Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:07:59.265Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:07:59.280Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:07:59.280Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:07:59.280Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:07:59.280Z] [worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10224 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10224"}}
[debug] [2021-11-08T12:07:59.281Z] [worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: BUSY"}}
[debug] [2021-11-08T12:08:00.046Z] [runtime-status] [10224] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:08:00.058Z] [runtime-status] [10224] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:08:00.070Z] [runtime-status] [10224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.079Z] [runtime-status] [10224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.083Z] [runtime-status] [10224] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:08:00.090Z] [runtime-status] [10224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.219Z] [runtime-status] [10224] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:08:00.219Z] [runtime-status] [10224] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:00.222Z] [runtime-status] [10224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.225Z] [runtime-status] [10224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.227Z] [runtime-status] [10224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:00.227Z] [runtime-status] [10224] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:00.570Z] [runtime-status] [10224] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:08:00.572Z] [runtime-status] [10224] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:08:00.572Z] [runtime-status] [10224] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:08:00.579Z] [runtime-status] [10224] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10224 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10224"}}
[debug] [2021-11-08T12:08:00.588Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:08:00.589Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:08:00.599Z] [runtime-status] [10224] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:08:00.611Z] [runtime-status] [10224] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10224] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:08:00.653Z] [worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: exited"}}
[debug] [2021-11-08T12:08:00.654Z] [worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a71e0982-0b23-4a7d-89bb-6d2683046ebe]: FINISHED"}}
[debug] [2021-11-08T12:08:00.654Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:08:06.374Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:08:06.374Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:08:06.375Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:08:06.375Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:08:06.397Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:08:06.397Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:08:06.398Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:08:06.398Z] [worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\1384 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\1384"}}
[debug] [2021-11-08T12:08:06.398Z] [worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: BUSY"}}
[debug] [2021-11-08T12:08:07.025Z] [runtime-status] [1384] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:08:07.029Z] [runtime-status] [1384] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:08:07.035Z] [runtime-status] [1384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.042Z] [runtime-status] [1384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.044Z] [runtime-status] [1384] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:08:07.047Z] [runtime-status] [1384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.151Z] [runtime-status] [1384] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:08:07.151Z] [runtime-status] [1384] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:07.153Z] [runtime-status] [1384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.158Z] [runtime-status] [1384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.160Z] [runtime-status] [1384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:07.160Z] [runtime-status] [1384] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:07.514Z] [runtime-status] [1384] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:08:07.516Z] [runtime-status] [1384] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:08:07.516Z] [runtime-status] [1384] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:08:07.522Z] [runtime-status] [1384] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\1384 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\1384"}}
[debug] [2021-11-08T12:08:07.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:08:07.529Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:08:07.541Z] [runtime-status] [1384] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:08:07.552Z] [runtime-status] [1384] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1384] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:08:07.586Z] [worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: exited"}}
[debug] [2021-11-08T12:08:07.586Z] [worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7f8f00d-f358-40dc-a57f-3d3986effa53]: FINISHED"}}
[debug] [2021-11-08T12:08:07.587Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:08:21.934Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:08:21.934Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:08:21.934Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:08:21.935Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:08:21.943Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:08:21.943Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:08:21.943Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:08:21.943Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7956 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7956"}}
[debug] [2021-11-08T12:08:21.943Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: BUSY"}}
[debug] [2021-11-08T12:08:22.301Z] [runtime-status] [7956] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:08:22.303Z] [runtime-status] [7956] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:08:22.308Z] [runtime-status] [7956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.315Z] [runtime-status] [7956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.319Z] [runtime-status] [7956] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:08:22.321Z] [runtime-status] [7956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.427Z] [runtime-status] [7956] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:08:22.428Z] [runtime-status] [7956] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:22.430Z] [runtime-status] [7956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.434Z] [runtime-status] [7956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.438Z] [runtime-status] [7956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:08:22.438Z] [runtime-status] [7956] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:08:22.813Z] [runtime-status] [7956] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:08:22.816Z] [runtime-status] [7956] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:08:22.817Z] [runtime-status] [7956] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:08:22.826Z] [runtime-status] [7956] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7956 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7956"}}
[debug] [2021-11-08T12:08:22.834Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:08:22.834Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:08:22.846Z] [runtime-status] [7956] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Ephemeral server handling GET request"}}
[debug] [2021-11-08T12:08:22.862Z] [runtime-status] [7956] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T12:08:22.875Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: IDLE"}}
[debug] [2021-11-08T12:08:22.875Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:08:28.429Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:08:28.430Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:08:28.430Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100 --> us-central1-api
[debug] [2021-11-08T12:08:28.431Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:08:28.431Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7956 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7956"}}
[debug] [2021-11-08T12:08:28.432Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: BUSY"}}
[debug] [2021-11-08T12:08:28.434Z] [runtime-status] [7956] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:08:28.441Z] [runtime-status] [7956] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:08:28.441Z] [runtime-status] [7956] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:08:28.442Z] [runtime-status] [7956] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7956 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7956"}}
[debug] [2021-11-08T12:08:28.444Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:08:28.445Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100, mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100"}}
[debug] [2021-11-08T12:08:28.452Z] [runtime-status] [7956] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Ephemeral server handling GET request"}}
[debug] [2021-11-08T12:08:28.459Z] [runtime-status] [7956] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7956] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T12:08:28.462Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: IDLE"}}
[debug] [2021-11-08T12:08:28.462Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:15:21.307Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:15:22.319Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:15:22.320Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: FINISHING"}}
[debug] [2021-11-08T12:15:22.322Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-11-08T12:15:22.322Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: FINISHING"}}
[debug] [2021-11-08T12:15:22.362Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:15:22.363Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:15:22.363Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:15:22.363Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4116 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4116"}}
[debug] [2021-11-08T12:15:22.364Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: BUSY"}}
[debug] [2021-11-08T12:15:22.366Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: exited"}}
[debug] [2021-11-08T12:15:22.366Z] [worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-de2d696b-0898-4ab9-8eaa-0c4ed1229c19]: FINISHED"}}
[debug] [2021-11-08T12:15:22.367Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: exited"}}
[debug] [2021-11-08T12:15:22.369Z] [worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca3e7496-4d28-40d1-a271-7cdce5792696]: FINISHED"}}
[debug] [2021-11-08T12:15:22.950Z] [runtime-status] [4116] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:15:22.953Z] [runtime-status] [4116] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:15:22.959Z] [runtime-status] [4116] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:22.964Z] [runtime-status] [4116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:22.967Z] [runtime-status] [4116] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:15:22.969Z] [runtime-status] [4116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:23.064Z] [runtime-status] [4116] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:15:23.064Z] [runtime-status] [4116] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:23.066Z] [runtime-status] [4116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:23.069Z] [runtime-status] [4116] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:23.071Z] [runtime-status] [4116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:23.071Z] [runtime-status] [4116] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4116] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:23.811Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: IDLE"}}
[debug] [2021-11-08T12:15:26.462Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:15:26.463Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:15:26.463Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:15:26.463Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:15:26.464Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:15:26.475Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:15:26.476Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:15:26.476Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:15:26.476Z] [worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13104"}}
[debug] [2021-11-08T12:15:26.476Z] [worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: BUSY"}}
[debug] [2021-11-08T12:15:27.111Z] [runtime-status] [13104] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:15:27.119Z] [runtime-status] [13104] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:15:27.155Z] [runtime-status] [13104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.212Z] [runtime-status] [13104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.224Z] [runtime-status] [13104] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:15:27.261Z] [runtime-status] [13104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.632Z] [runtime-status] [13104] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:15:27.637Z] [runtime-status] [13104] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:27.670Z] [runtime-status] [13104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.698Z] [runtime-status] [13104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.709Z] [runtime-status] [13104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:27.711Z] [runtime-status] [13104] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:28.480Z] [runtime-status] [13104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:15:28.482Z] [runtime-status] [13104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:15:28.483Z] [runtime-status] [13104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:15:28.493Z] [runtime-status] [13104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13104"}}
[debug] [2021-11-08T12:15:28.501Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:15:28.501Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:15:28.518Z] [runtime-status] [13104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:15:28.531Z] [runtime-status] [13104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13104] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:15:28.578Z] [worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: exited"}}
[debug] [2021-11-08T12:15:28.579Z] [worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01735e19-ad6a-4048-95ce-463238f04940]: FINISHED"}}
[debug] [2021-11-08T12:15:28.581Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:15:38.487Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:15:38.487Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:15:38.488Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:15:38.489Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:15:38.503Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:15:38.503Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:15:38.504Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:15:38.504Z] [worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11396 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11396"}}
[debug] [2021-11-08T12:15:38.504Z] [worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: BUSY"}}
[debug] [2021-11-08T12:15:39.473Z] [runtime-status] [11396] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:15:39.480Z] [runtime-status] [11396] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:15:39.489Z] [runtime-status] [11396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.502Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.505Z] [runtime-status] [11396] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:15:39.508Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.625Z] [runtime-status] [11396] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:15:39.628Z] [runtime-status] [11396] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:39.631Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.634Z] [runtime-status] [11396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.636Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:15:39.636Z] [runtime-status] [11396] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:15:40.155Z] [runtime-status] [11396] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:15:40.161Z] [runtime-status] [11396] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:15:40.162Z] [runtime-status] [11396] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:15:40.171Z] [runtime-status] [11396] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11396 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11396"}}
[debug] [2021-11-08T12:15:40.180Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:15:40.181Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:15:40.200Z] [runtime-status] [11396] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:15:40.215Z] [runtime-status] [11396] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:15:40.290Z] [worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: exited"}}
[debug] [2021-11-08T12:15:40.292Z] [worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-03bd3cf6-283b-421b-8d03-4f42d63b8f17]: FINISHED"}}
[debug] [2021-11-08T12:15:40.293Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:17:03.300Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:17:04.315Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:17:04.315Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: FINISHING"}}
[debug] [2021-11-08T12:17:04.316Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:17:04.335Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:17:04.335Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:17:04.335Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:17:04.336Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10440 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10440"}}
[debug] [2021-11-08T12:17:04.336Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: BUSY"}}
[debug] [2021-11-08T12:17:04.339Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: exited"}}
[debug] [2021-11-08T12:17:04.341Z] [worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bc9d7894-11c9-4132-9568-b57f210e99f2]: FINISHED"}}
[debug] [2021-11-08T12:17:04.806Z] [runtime-status] [10440] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:17:04.914Z] [runtime-status] [10440] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:17:04.945Z] [runtime-status] [10440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:04.977Z] [runtime-status] [10440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:04.994Z] [runtime-status] [10440] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:17:05.001Z] [runtime-status] [10440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:05.219Z] [runtime-status] [10440] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:17:05.220Z] [runtime-status] [10440] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:05.226Z] [runtime-status] [10440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:05.231Z] [runtime-status] [10440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:05.234Z] [runtime-status] [10440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:05.234Z] [runtime-status] [10440] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10440] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:05.677Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: IDLE"}}
[debug] [2021-11-08T12:17:08.904Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:17:08.904Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:17:08.905Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:17:08.905Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:17:08.925Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:17:08.925Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:17:08.926Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:17:08.926Z] [worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3340"}}
[debug] [2021-11-08T12:17:08.926Z] [worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: BUSY"}}
[debug] [2021-11-08T12:17:09.920Z] [runtime-status] [3340] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:17:09.927Z] [runtime-status] [3340] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:17:09.954Z] [runtime-status] [3340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:09.975Z] [runtime-status] [3340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:09.983Z] [runtime-status] [3340] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:17:09.986Z] [runtime-status] [3340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:10.451Z] [runtime-status] [3340] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:17:10.452Z] [runtime-status] [3340] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:10.462Z] [runtime-status] [3340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:10.476Z] [runtime-status] [3340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:10.483Z] [runtime-status] [3340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:10.488Z] [runtime-status] [3340] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:11.296Z] [runtime-status] [3340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:17:11.299Z] [runtime-status] [3340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:17:11.299Z] [runtime-status] [3340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:17:11.306Z] [runtime-status] [3340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3340"}}
[debug] [2021-11-08T12:17:11.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:17:11.316Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:17:11.336Z] [runtime-status] [3340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:17:11.352Z] [runtime-status] [3340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3340] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:17:11.394Z] [worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: exited"}}
[debug] [2021-11-08T12:17:11.394Z] [worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc8a51cf-5a80-49f0-8db8-acba4259d630]: FINISHED"}}
[debug] [2021-11-08T12:17:11.394Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:17:15.739Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:17:15.739Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:17:15.739Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:17:15.740Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:17:15.758Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:17:15.758Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:17:15.759Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:17:15.759Z] [worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\596 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\596"}}
[debug] [2021-11-08T12:17:15.760Z] [worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: BUSY"}}
[debug] [2021-11-08T12:17:16.684Z] [runtime-status] [596] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:17:16.687Z] [runtime-status] [596] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:17:16.698Z] [runtime-status] [596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.708Z] [runtime-status] [596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.713Z] [runtime-status] [596] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:17:16.717Z] [runtime-status] [596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.860Z] [runtime-status] [596] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:17:16.861Z] [runtime-status] [596] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:16.865Z] [runtime-status] [596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.869Z] [runtime-status] [596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.872Z] [runtime-status] [596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:17:16.874Z] [runtime-status] [596] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:17:17.493Z] [runtime-status] [596] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:17:17.495Z] [runtime-status] [596] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:17:17.496Z] [runtime-status] [596] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:17:17.511Z] [runtime-status] [596] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\596 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\596"}}
[debug] [2021-11-08T12:17:17.522Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:17:17.522Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:17:17.539Z] [runtime-status] [596] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:17:17.550Z] [runtime-status] [596] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [596] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:17:17.596Z] [worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: exited"}}
[debug] [2021-11-08T12:17:17.597Z] [worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b92458c6-d544-4c81-bd39-0c51f5f608b8]: FINISHED"}}
[debug] [2021-11-08T12:17:17.597Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:20:39.822Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:20:39.823Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:20:39.823Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:20:39.824Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:20:39.842Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:20:39.842Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:20:39.843Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:20:39.843Z] [worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13420 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13420"}}
[debug] [2021-11-08T12:20:39.843Z] [worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: BUSY"}}
[debug] [2021-11-08T12:20:40.622Z] [runtime-status] [13420] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:20:40.624Z] [runtime-status] [13420] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:20:40.630Z] [runtime-status] [13420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.635Z] [runtime-status] [13420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.638Z] [runtime-status] [13420] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:20:40.640Z] [runtime-status] [13420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.742Z] [runtime-status] [13420] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:20:40.743Z] [runtime-status] [13420] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:40.746Z] [runtime-status] [13420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.750Z] [runtime-status] [13420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.752Z] [runtime-status] [13420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:40.752Z] [runtime-status] [13420] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:41.075Z] [runtime-status] [13420] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:20:41.077Z] [runtime-status] [13420] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:20:41.078Z] [runtime-status] [13420] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:20:41.085Z] [runtime-status] [13420] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13420 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13420"}}
[debug] [2021-11-08T12:20:41.092Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:20:41.092Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:20:41.106Z] [runtime-status] [13420] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:20:41.118Z] [runtime-status] [13420] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13420] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:20:41.156Z] [worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: exited"}}
[debug] [2021-11-08T12:20:41.156Z] [worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b63b107f-7669-444b-b2cd-5dbff7a1cc1e]: FINISHED"}}
[debug] [2021-11-08T12:20:41.156Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:20:43.329Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:20:43.330Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:20:43.330Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:20:43.331Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:20:43.346Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:20:43.347Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:20:43.347Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:20:43.347Z] [worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14756 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14756"}}
[debug] [2021-11-08T12:20:43.347Z] [worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: BUSY"}}
[debug] [2021-11-08T12:20:44.688Z] [runtime-status] [14756] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:20:44.694Z] [runtime-status] [14756] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:20:44.718Z] [runtime-status] [14756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:44.756Z] [runtime-status] [14756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:44.778Z] [runtime-status] [14756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:20:44.792Z] [runtime-status] [14756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:45.022Z] [runtime-status] [14756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:20:45.023Z] [runtime-status] [14756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:45.026Z] [runtime-status] [14756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:45.031Z] [runtime-status] [14756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:45.038Z] [runtime-status] [14756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:45.039Z] [runtime-status] [14756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:45.844Z] [runtime-status] [14756] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:20:45.846Z] [runtime-status] [14756] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:20:45.847Z] [runtime-status] [14756] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:20:45.857Z] [runtime-status] [14756] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14756 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14756"}}
[debug] [2021-11-08T12:20:45.865Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:20:45.866Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:20:45.883Z] [runtime-status] [14756] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:20:45.900Z] [runtime-status] [14756] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14756] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:20:46.025Z] [worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: exited"}}
[debug] [2021-11-08T12:20:46.025Z] [worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6287c454-abe8-4b68-a316-8456c15102ea]: FINISHED"}}
[debug] [2021-11-08T12:20:46.026Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:20:51.264Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:20:51.264Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:20:51.265Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:20:51.265Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:20:51.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:20:51.284Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:20:51.284Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:20:51.284Z] [worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7424 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7424"}}
[debug] [2021-11-08T12:20:51.284Z] [worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: BUSY"}}
[debug] [2021-11-08T12:20:52.790Z] [runtime-status] [7424] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:20:52.794Z] [runtime-status] [7424] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:20:52.800Z] [runtime-status] [7424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.808Z] [runtime-status] [7424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.812Z] [runtime-status] [7424] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:20:52.814Z] [runtime-status] [7424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.930Z] [runtime-status] [7424] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:20:52.930Z] [runtime-status] [7424] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:52.932Z] [runtime-status] [7424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.935Z] [runtime-status] [7424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.937Z] [runtime-status] [7424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:20:52.937Z] [runtime-status] [7424] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:20:53.684Z] [runtime-status] [7424] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:20:53.693Z] [runtime-status] [7424] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:20:53.694Z] [runtime-status] [7424] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:20:53.702Z] [runtime-status] [7424] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7424 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7424"}}
[debug] [2021-11-08T12:20:53.711Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:20:53.712Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:20:53.728Z] [runtime-status] [7424] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:20:53.742Z] [runtime-status] [7424] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7424] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:20:53.782Z] [worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: exited"}}
[debug] [2021-11-08T12:20:53.782Z] [worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-52fcc0d0-d0af-4a2c-b932-9fd88a7c2fca]: FINISHED"}}
[debug] [2021-11-08T12:20:53.783Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:21:20.831Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:21:20.831Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:21:20.831Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100) --> us-central1-api
[debug] [2021-11-08T12:21:20.832Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:21:20.846Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:21:20.846Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:21:20.847Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:21:20.847Z] [worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11792 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11792"}}
[debug] [2021-11-08T12:21:20.847Z] [worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: BUSY"}}
[debug] [2021-11-08T12:21:21.186Z] [runtime-status] [11792] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:21:21.188Z] [runtime-status] [11792] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:21:21.194Z] [runtime-status] [11792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.200Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.203Z] [runtime-status] [11792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:21:21.205Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.294Z] [runtime-status] [11792] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:21:21.294Z] [runtime-status] [11792] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:21:21.296Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.299Z] [runtime-status] [11792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.301Z] [runtime-status] [11792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:21:21.301Z] [runtime-status] [11792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:21:21.713Z] [runtime-status] [11792] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:21:21.715Z] [runtime-status] [11792] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:21:21.717Z] [runtime-status] [11792] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:21:21.723Z] [runtime-status] [11792] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11792 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11792"}}
[debug] [2021-11-08T12:21:21.730Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:21:21.730Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100) {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=$(getBasketTotal(basket)%20*%20100), mapping to path=/payments/create?total=$(getBasketTotal(basket)%20*%20100)"}}
[debug] [2021-11-08T12:21:21.743Z] [runtime-status] [11792] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100) {"user":"payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! $(getBasketTotal(basket) * 100)"}}
[debug] [2021-11-08T12:21:21.751Z] [runtime-status] [11792] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11792] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:21:21.821Z] [worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: exited"}}
[debug] [2021-11-08T12:21:21.823Z] [worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0284d025-1e5c-4e27-93ad-bd2e4f386d41]: FINISHED"}}
[debug] [2021-11-08T12:21:21.823Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:26:19.946Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:26:19.947Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:26:19.947Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=2392 --> us-central1-api
[debug] [2021-11-08T12:26:19.948Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:26:19.971Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:26:19.972Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:26:19.972Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:26:19.972Z] [worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3684 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3684"}}
[debug] [2021-11-08T12:26:19.973Z] [worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: BUSY"}}
[debug] [2021-11-08T12:26:20.708Z] [runtime-status] [3684] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:26:20.710Z] [runtime-status] [3684] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:26:20.716Z] [runtime-status] [3684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.721Z] [runtime-status] [3684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.724Z] [runtime-status] [3684] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:26:20.726Z] [runtime-status] [3684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.837Z] [runtime-status] [3684] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:26:20.838Z] [runtime-status] [3684] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:26:20.841Z] [runtime-status] [3684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.844Z] [runtime-status] [3684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.847Z] [runtime-status] [3684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:26:20.847Z] [runtime-status] [3684] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:26:21.272Z] [runtime-status] [3684] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:26:21.277Z] [runtime-status] [3684] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:26:21.277Z] [runtime-status] [3684] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:26:21.282Z] [runtime-status] [3684] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3684 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3684"}}
[debug] [2021-11-08T12:26:21.291Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:26:21.292Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392"}}
[debug] [2021-11-08T12:26:21.311Z] [runtime-status] [3684] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 2392 {"user":"payment Request Rescived BOOM!! 2392","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 2392"}}
[debug] [2021-11-08T12:26:21.331Z] [runtime-status] [3684] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3684] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:26:21.422Z] [worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: exited"}}
[debug] [2021-11-08T12:26:21.422Z] [worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dfdbd61e-e900-4e9e-88cd-5c6533d0f4b7]: FINISHED"}}
[debug] [2021-11-08T12:26:21.422Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:27:14.628Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:27:15.640Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:27:15.641Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: FINISHING"}}
[debug] [2021-11-08T12:27:15.643Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:27:15.661Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:27:15.661Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:27:15.661Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:27:15.661Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11328 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11328"}}
[debug] [2021-11-08T12:27:15.662Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: BUSY"}}
[debug] [2021-11-08T12:27:15.663Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: exited"}}
[debug] [2021-11-08T12:27:15.663Z] [worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a1cde42a-1501-4928-a853-92d4034aaa0a]: FINISHED"}}
[debug] [2021-11-08T12:27:16.353Z] [runtime-status] [11328] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:27:16.356Z] [runtime-status] [11328] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:27:16.364Z] [runtime-status] [11328] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.370Z] [runtime-status] [11328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.377Z] [runtime-status] [11328] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:27:16.379Z] [runtime-status] [11328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.495Z] [runtime-status] [11328] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:27:16.496Z] [runtime-status] [11328] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:27:16.498Z] [runtime-status] [11328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.500Z] [runtime-status] [11328] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.502Z] [runtime-status] [11328] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:16.502Z] [runtime-status] [11328] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11328] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:27:16.982Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: IDLE"}}
[debug] [2021-11-08T12:27:21.953Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:27:21.953Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:27:21.954Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T12:27:21.954Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:27:21.962Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:27:21.963Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:27:21.963Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:27:21.963Z] [worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11136 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11136"}}
[debug] [2021-11-08T12:27:21.963Z] [worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: BUSY"}}
[debug] [2021-11-08T12:27:22.306Z] [runtime-status] [11136] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:27:22.307Z] [runtime-status] [11136] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:27:22.314Z] [runtime-status] [11136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.320Z] [runtime-status] [11136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.322Z] [runtime-status] [11136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:27:22.325Z] [runtime-status] [11136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.421Z] [runtime-status] [11136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:27:22.422Z] [runtime-status] [11136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:27:22.424Z] [runtime-status] [11136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.427Z] [runtime-status] [11136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.429Z] [runtime-status] [11136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:27:22.430Z] [runtime-status] [11136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:27:22.744Z] [runtime-status] [11136] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:27:22.746Z] [runtime-status] [11136] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:27:22.747Z] [runtime-status] [11136] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:27:22.753Z] [runtime-status] [11136] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11136 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11136"}}
[debug] [2021-11-08T12:27:22.759Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:27:22.760Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T12:27:22.770Z] [runtime-status] [11136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 1196 {"user":"payment Request Rescived BOOM!! 1196","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 1196"}}
[debug] [2021-11-08T12:27:22.779Z] [runtime-status] [11136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11136] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:31 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:31\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:31\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:31:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:31:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:31:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:27:22.815Z] [worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: exited"}}
[debug] [2021-11-08T12:27:22.816Z] [worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-32867f34-84f8-465f-8010-42d880b0b643]: FINISHED"}}
[debug] [2021-11-08T12:27:22.816Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:28:02.894Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:28:02.894Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:28:02.894Z] Accepted request GET /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T12:28:02.895Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:28:02.904Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:28:02.904Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:28:02.904Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:28:02.904Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3008 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3008"}}
[debug] [2021-11-08T12:28:02.905Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: BUSY"}}
[debug] [2021-11-08T12:28:03.311Z] [runtime-status] [3008] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:28:03.314Z] [runtime-status] [3008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:28:03.321Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.327Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.330Z] [runtime-status] [3008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:28:03.332Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.429Z] [runtime-status] [3008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:28:03.430Z] [runtime-status] [3008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:28:03.432Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.436Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.438Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:28:03.440Z] [runtime-status] [3008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:28:03.781Z] [runtime-status] [3008] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:28:03.784Z] [runtime-status] [3008] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:28:03.784Z] [runtime-status] [3008] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:28:03.790Z] [runtime-status] [3008] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3008 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3008"}}
[debug] [2021-11-08T12:28:03.797Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:28:03.797Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T12:28:03.809Z] [runtime-status] [3008] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Ephemeral server handling GET request"}}
[debug] [2021-11-08T12:28:03.827Z] [runtime-status] [3008] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T12:28:03.838Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: IDLE"}}
[debug] [2021-11-08T12:28:03.838Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:29:44.804Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:29:45.808Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:29:45.809Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: FINISHING"}}
[debug] [2021-11-08T12:29:45.809Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-11-08T12:29:45.809Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: FINISHING"}}
[debug] [2021-11-08T12:29:45.825Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:29:45.827Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:29:45.827Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:29:45.827Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4304 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4304"}}
[debug] [2021-11-08T12:29:45.827Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: BUSY"}}
[debug] [2021-11-08T12:29:45.828Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: exited"}}
[debug] [2021-11-08T12:29:45.828Z] [worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d6139a61-6635-432c-991e-f684cfecce7f]: FINISHED"}}
[debug] [2021-11-08T12:29:45.829Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: exited"}}
[debug] [2021-11-08T12:29:45.829Z] [worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-397ba8c7-6f77-4216-bdf4-748544865883]: FINISHED"}}
[debug] [2021-11-08T12:29:46.186Z] [runtime-status] [4304] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:29:46.188Z] [runtime-status] [4304] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:29:46.194Z] [runtime-status] [4304] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.199Z] [runtime-status] [4304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.202Z] [runtime-status] [4304] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:29:46.204Z] [runtime-status] [4304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.293Z] [runtime-status] [4304] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:29:46.293Z] [runtime-status] [4304] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:29:46.297Z] [runtime-status] [4304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.301Z] [runtime-status] [4304] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.302Z] [runtime-status] [4304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:29:46.303Z] [runtime-status] [4304] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4304] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:29:46.661Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: IDLE"}}
[debug] [2021-11-08T12:33:11.448Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:33:11.449Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:33:11.449Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:33:11.450Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:33:11.450Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:33:11.463Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:33:11.463Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:33:11.463Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:33:11.464Z] [worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13356 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13356"}}
[debug] [2021-11-08T12:33:11.464Z] [worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: BUSY"}}
[debug] [2021-11-08T12:33:12.931Z] [runtime-status] [13356] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:33:12.935Z] [runtime-status] [13356] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:33:12.947Z] [runtime-status] [13356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:12.961Z] [runtime-status] [13356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:12.967Z] [runtime-status] [13356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:33:12.972Z] [runtime-status] [13356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:13.154Z] [runtime-status] [13356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:33:13.154Z] [runtime-status] [13356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:33:13.159Z] [runtime-status] [13356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:13.163Z] [runtime-status] [13356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:13.165Z] [runtime-status] [13356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:33:13.165Z] [runtime-status] [13356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:33:13.597Z] [runtime-status] [13356] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:33:13.600Z] [runtime-status] [13356] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:33:13.600Z] [runtime-status] [13356] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:33:13.609Z] [runtime-status] [13356] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13356 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13356"}}
[debug] [2021-11-08T12:33:13.616Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:33:13.617Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T12:33:13.633Z] [runtime-status] [13356] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 0 {"user":"payment Request Rescived BOOM!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 0"}}
[debug] [2021-11-08T12:33:13.645Z] [runtime-status] [13356] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13356] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:33:13.682Z] [worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: exited"}}
[debug] [2021-11-08T12:33:13.682Z] [worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1aa612dc-415e-43b7-8a6d-ea9ad72e1db9]: FINISHED"}}
[debug] [2021-11-08T12:33:13.683Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:35:22.058Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:35:22.059Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:35:22.060Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:35:22.060Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:35:22.077Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:35:22.077Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:35:22.077Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:35:22.078Z] [worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3008 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3008"}}
[debug] [2021-11-08T12:35:22.078Z] [worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: BUSY"}}
[debug] [2021-11-08T12:35:23.852Z] [runtime-status] [3008] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:35:23.855Z] [runtime-status] [3008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:35:23.867Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:23.876Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:23.883Z] [runtime-status] [3008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:35:23.887Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:24.112Z] [runtime-status] [3008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:35:24.113Z] [runtime-status] [3008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:35:24.119Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:24.124Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:24.126Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:35:24.127Z] [runtime-status] [3008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:35:24.600Z] [runtime-status] [3008] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:35:24.602Z] [runtime-status] [3008] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:35:24.603Z] [runtime-status] [3008] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:35:24.610Z] [runtime-status] [3008] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3008 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3008"}}
[debug] [2021-11-08T12:35:24.618Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:35:24.618Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T12:35:24.635Z] [runtime-status] [3008] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 0 {"user":"payment Request Rescived BOOM!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 0"}}
[debug] [2021-11-08T12:35:24.648Z] [runtime-status] [3008] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3008] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:35:24.703Z] [worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: exited"}}
[debug] [2021-11-08T12:35:24.703Z] [worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-efaa908d-2f4c-46fb-8901-a0f5779ecbac]: FINISHED"}}
[debug] [2021-11-08T12:35:24.704Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:40:09.994Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:40:09.994Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:40:09.994Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:40:09.995Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:40:10.008Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:40:10.008Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:40:10.008Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:40:10.008Z] [worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11276 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11276"}}
[debug] [2021-11-08T12:40:10.009Z] [worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: BUSY"}}
[debug] [2021-11-08T12:40:11.563Z] [runtime-status] [11276] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:40:11.568Z] [runtime-status] [11276] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:40:11.588Z] [runtime-status] [11276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.598Z] [runtime-status] [11276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.606Z] [runtime-status] [11276] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:40:11.611Z] [runtime-status] [11276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.830Z] [runtime-status] [11276] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:40:11.831Z] [runtime-status] [11276] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:40:11.835Z] [runtime-status] [11276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.839Z] [runtime-status] [11276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.841Z] [runtime-status] [11276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:11.842Z] [runtime-status] [11276] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:40:12.497Z] [runtime-status] [11276] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:40:12.499Z] [runtime-status] [11276] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:40:12.500Z] [runtime-status] [11276] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:40:12.507Z] [runtime-status] [11276] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11276 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11276"}}
[debug] [2021-11-08T12:40:12.514Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:40:12.515Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T12:40:12.530Z] [runtime-status] [11276] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 0 {"user":"payment Request Rescived BOOM!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 0"}}
[debug] [2021-11-08T12:40:12.542Z] [runtime-status] [11276] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11276] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:40:12.575Z] [worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: exited"}}
[debug] [2021-11-08T12:40:12.575Z] [worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-739b7e57-bf2f-474f-b2c2-c9b5102abe88]: FINISHED"}}
[debug] [2021-11-08T12:40:12.576Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:40:21.167Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:40:21.168Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:40:21.168Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T12:40:21.168Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:40:21.180Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:40:21.181Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:40:21.181Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:40:21.183Z] [worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16040 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16040"}}
[debug] [2021-11-08T12:40:21.184Z] [worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: BUSY"}}
[debug] [2021-11-08T12:40:22.275Z] [runtime-status] [16040] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:40:22.279Z] [runtime-status] [16040] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:40:22.293Z] [runtime-status] [16040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.306Z] [runtime-status] [16040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.316Z] [runtime-status] [16040] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:40:22.322Z] [runtime-status] [16040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.456Z] [runtime-status] [16040] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:40:22.457Z] [runtime-status] [16040] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:40:22.462Z] [runtime-status] [16040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.466Z] [runtime-status] [16040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.470Z] [runtime-status] [16040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:40:22.470Z] [runtime-status] [16040] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:40:22.865Z] [runtime-status] [16040] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:40:22.867Z] [runtime-status] [16040] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:40:22.868Z] [runtime-status] [16040] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:40:22.879Z] [runtime-status] [16040] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16040 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16040"}}
[debug] [2021-11-08T12:40:22.887Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:40:22.887Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T12:40:22.904Z] [runtime-status] [16040] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 25096 {"user":"payment Request Rescived BOOM!! 25096","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 25096"}}
[debug] [2021-11-08T12:40:22.917Z] [runtime-status] [16040] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16040] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:40:22.969Z] [worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: exited"}}
[debug] [2021-11-08T12:40:22.970Z] [worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-878e0e80-2b9c-46d6-b5bf-f8f9c1db4312]: FINISHED"}}
[debug] [2021-11-08T12:40:22.971Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:41:57.016Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:41:58.030Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:41:58.030Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: FINISHING"}}
[debug] [2021-11-08T12:41:58.031Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:41:58.054Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:41:58.054Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:41:58.054Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:41:58.055Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8512 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8512"}}
[debug] [2021-11-08T12:41:58.055Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: BUSY"}}
[debug] [2021-11-08T12:41:58.056Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: exited"}}
[debug] [2021-11-08T12:41:58.056Z] [worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa67efb0-124e-438d-93bf-89b0ab9fea8d]: FINISHED"}}
[debug] [2021-11-08T12:41:59.345Z] [runtime-status] [8512] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:41:59.347Z] [runtime-status] [8512] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:41:59.352Z] [runtime-status] [8512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.359Z] [runtime-status] [8512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.364Z] [runtime-status] [8512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:41:59.367Z] [runtime-status] [8512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.501Z] [runtime-status] [8512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:41:59.501Z] [runtime-status] [8512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:41:59.505Z] [runtime-status] [8512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.510Z] [runtime-status] [8512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.512Z] [runtime-status] [8512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:41:59.512Z] [runtime-status] [8512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:42:00.144Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: IDLE"}}
[debug] [2021-11-08T12:42:03.589Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:42:03.589Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:42:03.590Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:42:03.590Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T12:42:03.609Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:42:03.609Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:42:03.610Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:42:03.610Z] [worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16148 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16148"}}
[debug] [2021-11-08T12:42:03.610Z] [worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: BUSY"}}
[debug] [2021-11-08T12:42:04.665Z] [runtime-status] [16148] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:42:04.670Z] [runtime-status] [16148] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:42:04.681Z] [runtime-status] [16148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:04.695Z] [runtime-status] [16148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:04.706Z] [runtime-status] [16148] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:42:04.710Z] [runtime-status] [16148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:05.057Z] [runtime-status] [16148] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:42:05.060Z] [runtime-status] [16148] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:42:05.073Z] [runtime-status] [16148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:05.096Z] [runtime-status] [16148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:05.114Z] [runtime-status] [16148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:42:05.115Z] [runtime-status] [16148] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:42:06.034Z] [runtime-status] [16148] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T12:42:06.036Z] [runtime-status] [16148] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T12:42:06.037Z] [runtime-status] [16148] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Running us-central1-api in signature http"}}
[debug] [2021-11-08T12:42:06.048Z] [runtime-status] [16148] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16148 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16148"}}
[debug] [2021-11-08T12:42:06.058Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T12:42:06.059Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T12:42:06.078Z] [runtime-status] [16148] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! 0 {"user":"payment Request Rescived BOOM!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!! 0"}}
[debug] [2021-11-08T12:42:06.093Z] [runtime-status] [16148] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16148] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:26:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:26:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T12:42:06.161Z] [worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: exited"}}
[debug] [2021-11-08T12:42:06.162Z] [worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-792ba98a-0391-4f74-b8da-03e367b79fa6]: FINISHED"}}
[debug] [2021-11-08T12:42:06.162Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-11-08T12:44:07.493Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:44:08.494Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T12:44:08.494Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: FINISHING"}}
[debug] [2021-11-08T12:44:08.496Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:44:08.509Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:44:08.509Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T12:44:08.509Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:44:08.510Z] [worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15392 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15392"}}
[debug] [2021-11-08T12:44:08.510Z] [worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: BUSY"}}
[debug] [2021-11-08T12:44:08.511Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: exited"}}
[debug] [2021-11-08T12:44:08.511Z] [worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8bb8fb37-1460-4f2e-a374-3982274032ba]: FINISHED"}}
[debug] [2021-11-08T12:44:09.476Z] [runtime-status] [15392] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:44:09.478Z] [runtime-status] [15392] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:44:09.486Z] [runtime-status] [15392] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.494Z] [runtime-status] [15392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.498Z] [runtime-status] [15392] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:44:09.502Z] [runtime-status] [15392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.634Z] [runtime-status] [15392] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:44:09.634Z] [runtime-status] [15392] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:44:09.636Z] [runtime-status] [15392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.639Z] [runtime-status] [15392] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.640Z] [runtime-status] [15392] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:09.641Z] [runtime-status] [15392] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15392] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: http:localhost:3000
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: http:localhost:3000\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-11-08T12:44:09.676Z] [worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: exited"}}
[debug] [2021-11-08T12:44:09.676Z] [worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cd40f34-3917-4f70-ac15-dfad53bd4d71]: FINISHED"}}
[debug] [2021-11-08T12:44:57.714Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:44:58.716Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2021-11-08T12:44:58.740Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:44:58.740Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T12:44:58.740Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:44:58.741Z] [worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16244 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16244"}}
[debug] [2021-11-08T12:44:58.741Z] [worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: BUSY"}}
[debug] [2021-11-08T12:44:59.665Z] [runtime-status] [16244] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:44:59.669Z] [runtime-status] [16244] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:44:59.691Z] [runtime-status] [16244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.708Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.717Z] [runtime-status] [16244] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:44:59.721Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.898Z] [runtime-status] [16244] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:44:59.898Z] [runtime-status] [16244] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:44:59.902Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.907Z] [runtime-status] [16244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.911Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:44:59.911Z] [runtime-status] [16244] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16244] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: http:localhost:3000
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: http:localhost:3000\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-11-08T12:44:59.952Z] [worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: exited"}}
[debug] [2021-11-08T12:44:59.953Z] [worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aa05e211-84b4-46c1-9af8-b33d77662138]: FINISHED"}}
[debug] [2021-11-08T12:45:02.228Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-11-08T12:45:02.228Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-11-08T12:45:02.228Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:45:02.229Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2021-11-08T12:45:02.246Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:45:02.247Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:45:02.247Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:45:02.247Z] [worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4720 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4720"}}
[debug] [2021-11-08T12:45:02.247Z] [worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: BUSY"}}
[debug] [2021-11-08T12:45:03.336Z] [runtime-status] [4720] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:45:03.339Z] [runtime-status] [4720] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:45:03.351Z] [runtime-status] [4720] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.366Z] [runtime-status] [4720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.371Z] [runtime-status] [4720] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:45:03.383Z] [runtime-status] [4720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.870Z] [runtime-status] [4720] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:45:03.870Z] [runtime-status] [4720] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:45:03.900Z] [runtime-status] [4720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.938Z] [runtime-status] [4720] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.957Z] [runtime-status] [4720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:45:03.959Z] [runtime-status] [4720] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4720] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: http:localhost:3000
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: http:localhost:3000\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:45:04.083Z] [worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: exited"}}
[debug] [2021-11-08T12:45:04.083Z] [worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21d59ef0-27c8-4de5-b773-7689458332ec]: FINISHED"}}
[debug] [2021-11-08T12:46:22.084Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-11-08T12:46:22.085Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-11-08T12:46:22.085Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:46:22.086Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:46:22.101Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:46:22.102Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:46:22.108Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:46:22.108Z] [worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2084 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2084"}}
[debug] [2021-11-08T12:46:22.109Z] [worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: BUSY"}}
[debug] [2021-11-08T12:46:23.225Z] [runtime-status] [2084] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:46:23.229Z] [runtime-status] [2084] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:46:23.241Z] [runtime-status] [2084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.252Z] [runtime-status] [2084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.260Z] [runtime-status] [2084] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:46:23.264Z] [runtime-status] [2084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.511Z] [runtime-status] [2084] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:46:23.513Z] [runtime-status] [2084] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:46:23.526Z] [runtime-status] [2084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.540Z] [runtime-status] [2084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.547Z] [runtime-status] [2084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:23.548Z] [runtime-status] [2084] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2084] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: http:localhost:3000
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: http:localhost:3000\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:46:23.598Z] [worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: exited"}}
[debug] [2021-11-08T12:46:23.598Z] [worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-528ef27b-97e7-4cbd-ae94-10313bb4bbed]: FINISHED"}}
[debug] [2021-11-08T12:46:45.300Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-11-08T12:46:45.300Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-11-08T12:46:45.300Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=47800 --> us-central1-api
[debug] [2021-11-08T12:46:45.301Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:46:45.314Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:46:45.314Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:46:45.315Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:46:45.315Z] [worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7976 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7976"}}
[debug] [2021-11-08T12:46:45.315Z] [worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: BUSY"}}
[debug] [2021-11-08T12:46:46.179Z] [runtime-status] [7976] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:46:46.182Z] [runtime-status] [7976] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:46:46.191Z] [runtime-status] [7976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.201Z] [runtime-status] [7976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.206Z] [runtime-status] [7976] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:46:46.210Z] [runtime-status] [7976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.352Z] [runtime-status] [7976] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:46:46.353Z] [runtime-status] [7976] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:46:46.357Z] [runtime-status] [7976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.361Z] [runtime-status] [7976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.364Z] [runtime-status] [7976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:46:46.364Z] [runtime-status] [7976] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [7976] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: http:localhost:3000
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: http:localhost:3000\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:46:46.412Z] [worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: exited"}}
[debug] [2021-11-08T12:46:46.412Z] [worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-870deb1e-9348-4165-8d1a-e72e8a791e52]: FINISHED"}}
[debug] [2021-11-08T12:47:48.480Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:47:49.484Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:47:49.496Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:47:49.496Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T12:47:49.496Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:47:49.496Z] [worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15544 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15544"}}
[debug] [2021-11-08T12:47:49.497Z] [worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: BUSY"}}
[debug] [2021-11-08T12:47:49.919Z] [runtime-status] [15544] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:47:49.922Z] [runtime-status] [15544] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:47:49.929Z] [runtime-status] [15544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:49.936Z] [runtime-status] [15544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:49.940Z] [runtime-status] [15544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:47:49.944Z] [runtime-status] [15544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:50.052Z] [runtime-status] [15544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:47:50.053Z] [runtime-status] [15544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:47:50.057Z] [runtime-status] [15544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:50.063Z] [runtime-status] [15544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:50.066Z] [runtime-status] [15544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:50.068Z] [runtime-status] [15544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-11-08T12:47:50.120Z] [worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: exited"}}
[debug] [2021-11-08T12:47:50.121Z] [worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7e6a1b6-fbb9-40f2-a577-fa63ca94ef02]: FINISHED"}}
[debug] [2021-11-08T12:47:53.656Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-11-08T12:47:53.657Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-11-08T12:47:53.657Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:47:53.658Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2021-11-08T12:47:53.674Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:47:53.675Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:47:53.675Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:47:53.675Z] [worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15448 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15448"}}
[debug] [2021-11-08T12:47:53.675Z] [worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: BUSY"}}
[debug] [2021-11-08T12:47:54.736Z] [runtime-status] [15448] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:47:54.739Z] [runtime-status] [15448] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:47:54.748Z] [runtime-status] [15448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:54.758Z] [runtime-status] [15448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:54.766Z] [runtime-status] [15448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:47:54.770Z] [runtime-status] [15448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:55.085Z] [runtime-status] [15448] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:47:55.086Z] [runtime-status] [15448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:47:55.090Z] [runtime-status] [15448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:55.097Z] [runtime-status] [15448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:55.100Z] [runtime-status] [15448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:47:55.101Z] [runtime-status] [15448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:47:55.149Z] [worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: exited"}}
[debug] [2021-11-08T12:47:55.149Z] [worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1fe881e-1199-4ae9-8a49-f6b61d224399]: FINISHED"}}
[debug] [2021-11-08T12:48:05.728Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-11-08T12:48:05.728Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-11-08T12:48:05.729Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=119397 --> us-central1-api
[debug] [2021-11-08T12:48:05.729Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:48:05.744Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:48:05.744Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:48:05.744Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:48:05.744Z] [worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2820 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2820"}}
[debug] [2021-11-08T12:48:05.745Z] [worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: BUSY"}}
[debug] [2021-11-08T12:48:06.661Z] [runtime-status] [2820] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:48:06.663Z] [runtime-status] [2820] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:48:06.672Z] [runtime-status] [2820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.681Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.685Z] [runtime-status] [2820] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:48:06.688Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.834Z] [runtime-status] [2820] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:48:06.836Z] [runtime-status] [2820] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:48:06.845Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.850Z] [runtime-status] [2820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.854Z] [runtime-status] [2820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:48:06.855Z] [runtime-status] [2820] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2820] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:48:06.893Z] [worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: exited"}}
[debug] [2021-11-08T12:48:06.893Z] [worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3dcd63e4-1b51-4d70-835b-ce3350d668fd]: FINISHED"}}
[debug] [2021-11-08T12:52:18.749Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-11-08T12:52:18.750Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-11-08T12:52:18.750Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:52:18.751Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:52:18.766Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:52:18.767Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:52:18.767Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:52:18.767Z] [worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5924 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5924"}}
[debug] [2021-11-08T12:52:18.767Z] [worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: BUSY"}}
[debug] [2021-11-08T12:52:20.265Z] [runtime-status] [5924] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:52:20.269Z] [runtime-status] [5924] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:52:20.282Z] [runtime-status] [5924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.292Z] [runtime-status] [5924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.298Z] [runtime-status] [5924] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:52:20.303Z] [runtime-status] [5924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.459Z] [runtime-status] [5924] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:52:20.460Z] [runtime-status] [5924] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:52:20.462Z] [runtime-status] [5924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.466Z] [runtime-status] [5924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.469Z] [runtime-status] [5924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:20.469Z] [runtime-status] [5924] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5924] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:52:20.514Z] [worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: exited"}}
[debug] [2021-11-08T12:52:20.514Z] [worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-16b9930f-3de7-486e-9070-02c3811f3c7d]: FINISHED"}}
[debug] [2021-11-08T12:52:23.752Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2021-11-08T12:52:23.753Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2021-11-08T12:52:23.753Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:52:23.756Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:52:23.768Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:52:23.768Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:52:23.768Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:52:23.768Z] [worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10304 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10304"}}
[debug] [2021-11-08T12:52:23.768Z] [worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: BUSY"}}
[debug] [2021-11-08T12:52:24.224Z] [runtime-status] [10304] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:52:24.226Z] [runtime-status] [10304] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:52:24.235Z] [runtime-status] [10304] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.244Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.248Z] [runtime-status] [10304] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:52:24.254Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.370Z] [runtime-status] [10304] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:52:24.370Z] [runtime-status] [10304] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:52:24.373Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.377Z] [runtime-status] [10304] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.380Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:52:24.380Z] [runtime-status] [10304] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10304] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:52:24.429Z] [worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: exited"}}
[debug] [2021-11-08T12:52:24.429Z] [worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15489dad-b752-4fc2-b7f3-cfbc2d55efdc]: FINISHED"}}
[debug] [2021-11-08T12:53:58.680Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2021-11-08T12:53:58.680Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2021-11-08T12:53:58.681Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:53:58.681Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:53:58.692Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:53:58.692Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:53:58.692Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:53:58.692Z] [worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10520 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10520"}}
[debug] [2021-11-08T12:53:58.692Z] [worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: BUSY"}}
[debug] [2021-11-08T12:53:58.934Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2021-11-08T12:53:58.934Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2021-11-08T12:53:58.935Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:53:58.949Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:53:58.950Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-11-08T12:53:58.950Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:53:58.950Z] [worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11884 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11884"}}
[debug] [2021-11-08T12:53:58.950Z] [worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: BUSY"}}
[debug] [2021-11-08T12:53:59.506Z] [runtime-status] [11884] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:53:59.510Z] [runtime-status] [11884] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:53:59.521Z] [runtime-status] [11884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.532Z] [runtime-status] [11884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.537Z] [runtime-status] [11884] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:53:59.540Z] [runtime-status] [11884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.696Z] [runtime-status] [11884] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:53:59.697Z] [runtime-status] [11884] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:53:59.700Z] [runtime-status] [11884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.705Z] [runtime-status] [11884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.709Z] [runtime-status] [11884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.712Z] [runtime-status] [11884] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11884] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:53:59.730Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2021-11-08T12:53:59.730Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2021-11-08T12:53:59.730Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:53:59.747Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:53:59.747Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-11-08T12:53:59.747Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:53:59.747Z] [worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3876 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3876"}}
[debug] [2021-11-08T12:53:59.747Z] [worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: BUSY"}}
[debug] [2021-11-08T12:53:59.753Z] [worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: exited"}}
[debug] [2021-11-08T12:53:59.754Z] [worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7f648109-31a9-4366-8cf6-8ccbb70c245f]: FINISHED"}}
[debug] [2021-11-08T12:53:59.861Z] [runtime-status] [10520] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:53:59.865Z] [runtime-status] [10520] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:53:59.875Z] [runtime-status] [10520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.885Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:53:59.889Z] [runtime-status] [10520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:53:59.895Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.063Z] [runtime-status] [10520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:54:00.064Z] [runtime-status] [10520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:54:00.068Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.074Z] [runtime-status] [10520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.079Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.081Z] [runtime-status] [10520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:54:00.155Z] [worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: exited"}}
[debug] [2021-11-08T12:54:00.156Z] [worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a26c82a9-fec1-4330-be46-a4df0d22d394]: FINISHED"}}
[debug] [2021-11-08T12:54:00.443Z] [runtime-status] [3876] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:54:00.453Z] [runtime-status] [3876] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:54:00.478Z] [runtime-status] [3876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.492Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.503Z] [runtime-status] [3876] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:54:00.509Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.784Z] [runtime-status] [3876] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:54:00.785Z] [runtime-status] [3876] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:54:00.788Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.793Z] [runtime-status] [3876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.799Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:00.800Z] [runtime-status] [3876] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3876] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:54:00.841Z] [worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: exited"}}
[debug] [2021-11-08T12:54:00.841Z] [worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d4abdaa-a095-414b-b43b-d2f5f4741354]: FINISHED"}}
[debug] [2021-11-08T12:54:11.767Z] [work-queue] {"queueLength":1,"workRunningCount":10}
[debug] [2021-11-08T12:54:11.767Z] [work-queue] {"queueLength":0,"workRunningCount":11}
[debug] [2021-11-08T12:54:11.768Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T12:54:11.768Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2021-11-08T12:54:11.784Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:54:11.784Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:54:11.784Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:54:11.785Z] [worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11180"}}
[debug] [2021-11-08T12:54:11.785Z] [worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: BUSY"}}
[debug] [2021-11-08T12:54:12.687Z] [runtime-status] [11180] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:54:12.689Z] [runtime-status] [11180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:54:12.695Z] [runtime-status] [11180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.703Z] [runtime-status] [11180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.709Z] [runtime-status] [11180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:54:12.714Z] [runtime-status] [11180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.931Z] [runtime-status] [11180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:54:12.932Z] [runtime-status] [11180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:54:12.943Z] [runtime-status] [11180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.957Z] [runtime-status] [11180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.964Z] [runtime-status] [11180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:12.965Z] [runtime-status] [11180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:54:13.030Z] [worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: exited"}}
[debug] [2021-11-08T12:54:13.030Z] [worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9db5724-9cb3-4ab0-8a39-abc7c21a8ae1]: FINISHED"}}
[debug] [2021-11-08T12:54:28.389Z] [work-queue] {"queueLength":1,"workRunningCount":11}
[debug] [2021-11-08T12:54:28.390Z] [work-queue] {"queueLength":0,"workRunningCount":12}
[debug] [2021-11-08T12:54:28.390Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:54:28.390Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:54:28.405Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:54:28.405Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:54:28.405Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:54:28.405Z] [worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15848 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15848"}}
[debug] [2021-11-08T12:54:28.405Z] [worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: BUSY"}}
[debug] [2021-11-08T12:54:29.873Z] [runtime-status] [15848] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:54:29.885Z] [runtime-status] [15848] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:54:29.909Z] [runtime-status] [15848] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:29.966Z] [runtime-status] [15848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:29.985Z] [runtime-status] [15848] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:54:29.999Z] [runtime-status] [15848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:30.252Z] [runtime-status] [15848] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:54:30.252Z] [runtime-status] [15848] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:54:30.256Z] [runtime-status] [15848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:30.261Z] [runtime-status] [15848] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:30.267Z] [runtime-status] [15848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:30.267Z] [runtime-status] [15848] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15848] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:54:30.310Z] [worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: exited"}}
[debug] [2021-11-08T12:54:30.310Z] [worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-966ff16f-85b2-49d3-aa3d-11597baecf05]: FINISHED"}}
[debug] [2021-11-08T12:54:38.152Z] [work-queue] {"queueLength":1,"workRunningCount":12}
[debug] [2021-11-08T12:54:38.153Z] [work-queue] {"queueLength":0,"workRunningCount":13}
[debug] [2021-11-08T12:54:38.153Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T12:54:38.153Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:54:38.166Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:54:38.167Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:54:38.167Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:54:38.167Z] [worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8644 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8644"}}
[debug] [2021-11-08T12:54:38.167Z] [worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: BUSY"}}
[debug] [2021-11-08T12:54:39.260Z] [runtime-status] [8644] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:54:39.264Z] [runtime-status] [8644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:54:39.274Z] [runtime-status] [8644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.286Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.293Z] [runtime-status] [8644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:54:39.298Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.436Z] [runtime-status] [8644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:54:39.436Z] [runtime-status] [8644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:54:39.439Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.441Z] [runtime-status] [8644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.443Z] [runtime-status] [8644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:54:39.444Z] [runtime-status] [8644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:54:39.554Z] [worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: exited"}}
[debug] [2021-11-08T12:54:39.555Z] [worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-648b7de6-b86a-49df-9df6-20952aa4de82]: FINISHED"}}
[debug] [2021-11-08T12:55:26.079Z] [work-queue] {"queueLength":1,"workRunningCount":13}
[debug] [2021-11-08T12:55:26.080Z] [work-queue] {"queueLength":0,"workRunningCount":14}
[debug] [2021-11-08T12:55:26.080Z] Accepted request GET /challenge-ba906/us-central1/api --> us-central1-api
[debug] [2021-11-08T12:55:26.080Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:55:26.091Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:55:26.091Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:55:26.091Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:55:26.091Z] [worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10544 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10544"}}
[debug] [2021-11-08T12:55:26.091Z] [worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: BUSY"}}
[debug] [2021-11-08T12:55:26.569Z] [runtime-status] [10544] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:55:26.575Z] [runtime-status] [10544] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:55:26.593Z] [runtime-status] [10544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.610Z] [runtime-status] [10544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.624Z] [runtime-status] [10544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:55:26.628Z] [runtime-status] [10544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.783Z] [runtime-status] [10544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:55:26.784Z] [runtime-status] [10544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:55:26.787Z] [runtime-status] [10544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.792Z] [runtime-status] [10544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.794Z] [runtime-status] [10544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:55:26.794Z] [runtime-status] [10544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14
Access-Control-Allow-Origin: localhost: 3000;
                           ^

SyntaxError: Unexpected token ':'
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1031:15)
    at Module._compile (node:internal/modules/cjs/loader:1065:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14\nAccess-Control-Allow-Origin: localhost: 3000;\n                           ^\n\nSyntaxError: Unexpected token ':'\n    at Object.compileFunction (node:vm:352:18)\n    at wrapSafe (node:internal/modules/cjs/loader:1031:15)\n    at Module._compile (node:internal/modules/cjs/loader:1065:27)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:55:26.840Z] [worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: exited"}}
[debug] [2021-11-08T12:55:26.840Z] [worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c04fecec-87f5-4f51-b7af-e4706a19cef1]: FINISHED"}}
[debug] [2021-11-08T12:56:53.584Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T12:56:54.593Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:56:54.608Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T12:56:54.608Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T12:56:54.608Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T12:56:54.608Z] [worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15176 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15176"}}
[debug] [2021-11-08T12:56:54.609Z] [worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: BUSY"}}
[debug] [2021-11-08T12:56:56.030Z] [runtime-status] [15176] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:56:56.039Z] [runtime-status] [15176] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:56:56.048Z] [runtime-status] [15176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.065Z] [runtime-status] [15176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.075Z] [runtime-status] [15176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:56:56.078Z] [runtime-status] [15176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.604Z] [runtime-status] [15176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:56:56.605Z] [runtime-status] [15176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:56:56.606Z] [runtime-status] [15176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.615Z] [runtime-status] [15176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.624Z] [runtime-status] [15176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:56:56.625Z] [runtime-status] [15176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-11-08T12:56:57.814Z] [worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: exited"}}
[debug] [2021-11-08T12:56:57.815Z] [worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b9cf06a-2201-44ab-9fe3-8e05380d54c6]: FINISHED"}}
[debug] [2021-11-08T12:57:16.872Z] [work-queue] {"queueLength":1,"workRunningCount":14}
[debug] [2021-11-08T12:57:16.873Z] [work-queue] {"queueLength":0,"workRunningCount":15}
[debug] [2021-11-08T12:57:16.873Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T12:57:16.873Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2021-11-08T12:57:16.887Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:57:16.887Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:57:16.888Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:57:16.888Z] [worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11148 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11148"}}
[debug] [2021-11-08T12:57:16.888Z] [worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: BUSY"}}
[debug] [2021-11-08T12:57:17.685Z] [runtime-status] [11148] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:57:17.700Z] [runtime-status] [11148] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:57:17.737Z] [runtime-status] [11148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:17.876Z] [runtime-status] [11148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:17.912Z] [runtime-status] [11148] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:57:17.931Z] [runtime-status] [11148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:18.273Z] [runtime-status] [11148] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:57:18.275Z] [runtime-status] [11148] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:57:18.281Z] [runtime-status] [11148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:18.287Z] [runtime-status] [11148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:18.290Z] [runtime-status] [11148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:18.292Z] [runtime-status] [11148] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11148] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:57:19.211Z] [worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: exited"}}
[debug] [2021-11-08T12:57:19.212Z] [worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7509b009-bd55-447e-bd29-5a0313a06a20]: FINISHED"}}
[debug] [2021-11-08T12:57:22.449Z] [work-queue] {"queueLength":1,"workRunningCount":15}
[debug] [2021-11-08T12:57:22.450Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2021-11-08T12:57:22.450Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T12:57:22.450Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T12:57:22.462Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T12:57:22.462Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T12:57:22.462Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T12:57:22.462Z] [worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14968 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14968"}}
[debug] [2021-11-08T12:57:22.462Z] [worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: BUSY"}}
[debug] [2021-11-08T12:57:23.406Z] [runtime-status] [14968] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T12:57:23.407Z] [runtime-status] [14968] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Disabled runtime features: undefined"}}
[debug] [2021-11-08T12:57:23.413Z] [runtime-status] [14968] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.421Z] [runtime-status] [14968] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.424Z] [runtime-status] [14968] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T12:57:23.426Z] [runtime-status] [14968] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.558Z] [runtime-status] [14968] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T12:57:23.558Z] [runtime-status] [14968] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T12:57:23.560Z] [runtime-status] [14968] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.563Z] [runtime-status] [14968] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.569Z] [runtime-status] [14968] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T12:57:23.570Z] [runtime-status] [14968] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14968] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:14:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:14:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T12:57:24.275Z] [worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: exited"}}
[debug] [2021-11-08T12:57:24.276Z] [worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21965e18-5423-4dde-b073-673e96f43ca3]: FINISHED"}}
[debug] [2021-11-08T13:04:16.520Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T13:04:17.520Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:04:17.531Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T13:04:17.531Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T13:04:17.531Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T13:04:17.531Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15156 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15156"}}
[debug] [2021-11-08T13:04:17.531Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: BUSY"}}
[debug] [2021-11-08T13:04:17.907Z] [runtime-status] [15156] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:04:17.909Z] [runtime-status] [15156] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:04:17.919Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:17.926Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:17.931Z] [runtime-status] [15156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:04:17.935Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:18.050Z] [runtime-status] [15156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:04:18.051Z] [runtime-status] [15156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:18.053Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:18.056Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:18.057Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:18.058Z] [runtime-status] [15156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:18.563Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: IDLE"}}
[debug] [2021-11-08T13:04:28.842Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2021-11-08T13:04:28.842Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2021-11-08T13:04:28.843Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T13:04:28.864Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:04:28.864Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:04:28.864Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:04:28.864Z] [worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11412 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11412"}}
[debug] [2021-11-08T13:04:28.864Z] [worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: BUSY"}}
[debug] [2021-11-08T13:04:29.574Z] [runtime-status] [11412] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:04:29.577Z] [runtime-status] [11412] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:04:29.601Z] [runtime-status] [11412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.615Z] [runtime-status] [11412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.626Z] [runtime-status] [11412] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:04:29.634Z] [runtime-status] [11412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.948Z] [runtime-status] [11412] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:04:29.955Z] [runtime-status] [11412] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:29.966Z] [runtime-status] [11412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.974Z] [runtime-status] [11412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.980Z] [runtime-status] [11412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:29.985Z] [runtime-status] [11412] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:32.279Z] [runtime-status] [11412] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T13:04:32.282Z] [runtime-status] [11412] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T13:04:32.282Z] [runtime-status] [11412] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Running us-central1-api in signature http"}}
[debug] [2021-11-08T13:04:32.293Z] [runtime-status] [11412] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11412 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11412"}}
[debug] [2021-11-08T13:04:32.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T13:04:32.306Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T13:04:32.328Z] [runtime-status] [11412] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T13:04:32.349Z] [runtime-status] [11412] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11412] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T13:04:32.501Z] [worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: exited"}}
[debug] [2021-11-08T13:04:32.501Z] [worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5647c248-d147-42c3-b44c-2f5d0c282d49]: FINISHED"}}
[debug] [2021-11-08T13:04:32.502Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2021-11-08T13:04:51.666Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2021-11-08T13:04:51.666Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2021-11-08T13:04:51.667Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T13:04:51.667Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:04:51.686Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:04:51.687Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:04:51.687Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:04:51.687Z] [worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10236 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10236"}}
[debug] [2021-11-08T13:04:51.687Z] [worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: BUSY"}}
[debug] [2021-11-08T13:04:52.999Z] [runtime-status] [10236] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:04:53.003Z] [runtime-status] [10236] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:04:53.013Z] [runtime-status] [10236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.022Z] [runtime-status] [10236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.028Z] [runtime-status] [10236] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:04:53.032Z] [runtime-status] [10236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.257Z] [runtime-status] [10236] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:04:53.258Z] [runtime-status] [10236] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:53.263Z] [runtime-status] [10236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.275Z] [runtime-status] [10236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.279Z] [runtime-status] [10236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:04:53.280Z] [runtime-status] [10236] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:04:53.932Z] [runtime-status] [10236] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T13:04:53.936Z] [runtime-status] [10236] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T13:04:53.936Z] [runtime-status] [10236] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Running us-central1-api in signature http"}}
[debug] [2021-11-08T13:04:53.943Z] [runtime-status] [10236] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\10236 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\10236"}}
[debug] [2021-11-08T13:04:53.949Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T13:04:53.950Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T13:04:53.969Z] [runtime-status] [10236] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T13:04:53.982Z] [runtime-status] [10236] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10236] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T13:04:54.023Z] [worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: exited"}}
[debug] [2021-11-08T13:04:54.023Z] [worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3644f262-b71f-4cb8-a5b0-6e1faecde42a]: FINISHED"}}
[debug] [2021-11-08T13:04:54.024Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2021-11-08T13:05:29.951Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2021-11-08T13:05:29.952Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2021-11-08T13:05:29.952Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T13:05:29.953Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:05:29.973Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:05:29.973Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:05:29.973Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:05:29.973Z] [worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13132 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13132"}}
[debug] [2021-11-08T13:05:29.974Z] [worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: BUSY"}}
[debug] [2021-11-08T13:05:31.059Z] [runtime-status] [13132] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:05:31.062Z] [runtime-status] [13132] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:05:31.070Z] [runtime-status] [13132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.079Z] [runtime-status] [13132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.083Z] [runtime-status] [13132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:05:31.087Z] [runtime-status] [13132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.385Z] [runtime-status] [13132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:05:31.385Z] [runtime-status] [13132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:05:31.389Z] [runtime-status] [13132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.394Z] [runtime-status] [13132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.397Z] [runtime-status] [13132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:31.397Z] [runtime-status] [13132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:05:32.192Z] [runtime-status] [13132] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T13:05:32.194Z] [runtime-status] [13132] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T13:05:32.194Z] [runtime-status] [13132] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Running us-central1-api in signature http"}}
[debug] [2021-11-08T13:05:32.204Z] [runtime-status] [13132] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13132 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13132"}}
[debug] [2021-11-08T13:05:32.215Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T13:05:32.216Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T13:05:32.232Z] [runtime-status] [13132] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T13:05:32.244Z] [runtime-status] [13132] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13132] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T13:05:32.292Z] [worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: exited"}}
[debug] [2021-11-08T13:05:32.293Z] [worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0a4cb984-e5bd-43e9-82c3-723053e5f002]: FINISHED"}}
[debug] [2021-11-08T13:05:32.293Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2021-11-08T13:05:51.745Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2021-11-08T13:05:51.746Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2021-11-08T13:05:51.746Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=50192 --> us-central1-api
[debug] [2021-11-08T13:05:51.747Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:05:51.759Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:05:51.760Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:05:51.760Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:05:51.760Z] [worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14696"}}
[debug] [2021-11-08T13:05:51.760Z] [worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: BUSY"}}
[debug] [2021-11-08T13:05:52.502Z] [runtime-status] [14696] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:05:52.504Z] [runtime-status] [14696] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:05:52.510Z] [runtime-status] [14696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.516Z] [runtime-status] [14696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.519Z] [runtime-status] [14696] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:05:52.521Z] [runtime-status] [14696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.649Z] [runtime-status] [14696] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:05:52.649Z] [runtime-status] [14696] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:05:52.655Z] [runtime-status] [14696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.658Z] [runtime-status] [14696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.659Z] [runtime-status] [14696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:05:52.660Z] [runtime-status] [14696] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:05:53.044Z] [runtime-status] [14696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T13:05:53.046Z] [runtime-status] [14696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T13:05:53.047Z] [runtime-status] [14696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T13:05:53.057Z] [runtime-status] [14696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14696"}}
[debug] [2021-11-08T13:05:53.066Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T13:05:53.067Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=50192, mapping to path=/payments/create?total=50192 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=50192, mapping to path=/payments/create?total=50192"}}
[debug] [2021-11-08T13:05:53.086Z] [runtime-status] [14696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T13:05:53.101Z] [runtime-status] [14696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14696] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T13:05:53.164Z] [worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: exited"}}
[debug] [2021-11-08T13:05:53.164Z] [worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7b775a5-7a1f-4f13-b579-42b1fa911492]: FINISHED"}}
[debug] [2021-11-08T13:05:53.165Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2021-11-08T13:06:37.989Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T13:06:38.465Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T13:06:39.468Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T13:06:39.468Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: FINISHING"}}
[debug] [2021-11-08T13:06:39.468Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:06:39.482Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T13:06:39.482Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T13:06:39.482Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T13:06:39.482Z] [worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\15664 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\15664"}}
[debug] [2021-11-08T13:06:39.482Z] [worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: BUSY"}}
[debug] [2021-11-08T13:06:39.483Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: exited"}}
[debug] [2021-11-08T13:06:39.484Z] [worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-50a7daa2-bad1-4ede-b34a-734c2a3d1699]: FINISHED"}}
[debug] [2021-11-08T13:06:40.156Z] [runtime-status] [15664] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:06:40.160Z] [runtime-status] [15664] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:06:40.183Z] [runtime-status] [15664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.195Z] [runtime-status] [15664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.206Z] [runtime-status] [15664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:06:40.211Z] [runtime-status] [15664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.470Z] [runtime-status] [15664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:06:40.472Z] [runtime-status] [15664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:06:40.478Z] [runtime-status] [15664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.487Z] [runtime-status] [15664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.492Z] [runtime-status] [15664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:40.492Z] [runtime-status] [15664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:16:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:16:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-11-08T13:06:41.054Z] [worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: exited"}}
[debug] [2021-11-08T13:06:41.054Z] [worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-66ef4c45-2f4e-48a1-92a5-2bd4bab0d1f3]: FINISHED"}}
[debug] [2021-11-08T13:06:45.896Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2021-11-08T13:06:45.896Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2021-11-08T13:06:45.897Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T13:06:45.897Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2021-11-08T13:06:45.913Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:06:45.913Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:06:45.913Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:06:45.913Z] [worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16212 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16212"}}
[debug] [2021-11-08T13:06:45.914Z] [worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: BUSY"}}
[debug] [2021-11-08T13:06:47.289Z] [runtime-status] [16212] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:06:47.298Z] [runtime-status] [16212] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:06:47.321Z] [runtime-status] [16212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.343Z] [runtime-status] [16212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.352Z] [runtime-status] [16212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:06:47.355Z] [runtime-status] [16212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.618Z] [runtime-status] [16212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:06:47.619Z] [runtime-status] [16212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:06:47.622Z] [runtime-status] [16212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.628Z] [runtime-status] [16212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.632Z] [runtime-status] [16212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:47.632Z] [runtime-status] [16212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:16:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:16:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T13:06:48.577Z] [worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: exited"}}
[debug] [2021-11-08T13:06:48.577Z] [worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5bcb2456-45f1-46bb-aacf-07365591425a]: FINISHED"}}
[debug] [2021-11-08T13:06:52.290Z] [work-queue] {"queueLength":1,"workRunningCount":17}
[debug] [2021-11-08T13:06:52.291Z] [work-queue] {"queueLength":0,"workRunningCount":18}
[debug] [2021-11-08T13:06:52.291Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=43899 --> us-central1-api
[debug] [2021-11-08T13:06:52.292Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T13:06:52.306Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T13:06:52.306Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T13:06:52.307Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T13:06:52.307Z] [worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3676 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3676"}}
[debug] [2021-11-08T13:06:52.307Z] [worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: BUSY"}}
[debug] [2021-11-08T13:06:53.184Z] [runtime-status] [3676] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T13:06:53.192Z] [runtime-status] [3676] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Disabled runtime features: undefined"}}
[debug] [2021-11-08T13:06:53.211Z] [runtime-status] [3676] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.234Z] [runtime-status] [3676] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.247Z] [runtime-status] [3676] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T13:06:53.260Z] [runtime-status] [3676] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.408Z] [runtime-status] [3676] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T13:06:53.408Z] [runtime-status] [3676] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T13:06:53.411Z] [runtime-status] [3676] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.414Z] [runtime-status] [3676] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.416Z] [runtime-status] [3676] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T13:06:53.416Z] [runtime-status] [3676] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3676] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:16:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:16:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T13:06:53.906Z] [worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: exited"}}
[debug] [2021-11-08T13:06:53.906Z] [worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-29236efa-f725-478d-9f52-c80ee453836a]: FINISHED"}}
[debug] [2021-11-08T14:20:32.059Z] [work-queue] {"queueLength":1,"workRunningCount":18}
[debug] [2021-11-08T14:20:32.059Z] [work-queue] {"queueLength":0,"workRunningCount":19}
[debug] [2021-11-08T14:20:32.060Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:20:32.061Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:20:32.081Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:20:32.082Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:20:32.082Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:20:32.082Z] [worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11476 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11476"}}
[debug] [2021-11-08T14:20:32.083Z] [worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: BUSY"}}
[debug] [2021-11-08T14:20:34.104Z] [runtime-status] [11476] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:20:34.112Z] [runtime-status] [11476] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:20:34.133Z] [runtime-status] [11476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.147Z] [runtime-status] [11476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.155Z] [runtime-status] [11476] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:20:34.168Z] [runtime-status] [11476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.466Z] [runtime-status] [11476] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:20:34.466Z] [runtime-status] [11476] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:20:34.467Z] [runtime-status] [11476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.467Z] [runtime-status] [11476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.467Z] [runtime-status] [11476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:34.468Z] [runtime-status] [11476] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11476] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:16:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:16:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T14:20:35.787Z] [worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: exited"}}
[debug] [2021-11-08T14:20:35.787Z] [worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f00696cb-e20b-4ef0-a844-b3c915bd0170]: FINISHED"}}
[debug] [2021-11-08T14:20:57.210Z] [work-queue] {"queueLength":1,"workRunningCount":19}
[debug] [2021-11-08T14:20:57.210Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:20:57.211Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T14:20:57.212Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:20:57.229Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:20:57.229Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:20:57.229Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:20:57.230Z] [worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\19356 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\19356"}}
[debug] [2021-11-08T14:20:57.230Z] [worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: BUSY"}}
[debug] [2021-11-08T14:20:58.196Z] [runtime-status] [19356] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:20:58.200Z] [runtime-status] [19356] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:20:58.211Z] [runtime-status] [19356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.222Z] [runtime-status] [19356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.227Z] [runtime-status] [19356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:20:58.231Z] [runtime-status] [19356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.351Z] [runtime-status] [19356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:20:58.351Z] [runtime-status] [19356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:20:58.354Z] [runtime-status] [19356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.359Z] [runtime-status] [19356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.361Z] [runtime-status] [19356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:20:58.362Z] [runtime-status] [19356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  ReferenceError: Access is not defined
    at Object.<anonymous> (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:16:1)
    at Module._compile (node:internal/modules/cjs/loader:1101:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at require (node:internal/modules/cjs/helpers:102:18)
    at initializeRuntime (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:640:29)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async handleMessage (C:\Users\Anas\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:684:20) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"ReferenceError: Access is not defined\n    at Object.<anonymous> (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:16:1)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at initializeRuntime (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:640:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async handleMessage (C:\\Users\\Anas\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:684:20)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"}}}
[debug] [2021-11-08T14:20:58.883Z] [worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: exited"}}
[debug] [2021-11-08T14:20:58.883Z] [worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ea0fe4f8-8daa-4395-a84d-78f2e1a5b53b]: FINISHED"}}
[debug] [2021-11-08T14:23:41.635Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:23:42.641Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:23:42.663Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T14:23:42.663Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-11-08T14:23:42.664Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T14:23:42.664Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\4600 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\4600"}}
[debug] [2021-11-08T14:23:42.664Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: BUSY"}}
[debug] [2021-11-08T14:23:43.009Z] [runtime-status] [4600] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:23:43.011Z] [runtime-status] [4600] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:23:43.017Z] [runtime-status] [4600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.023Z] [runtime-status] [4600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.026Z] [runtime-status] [4600] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:23:43.028Z] [runtime-status] [4600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.125Z] [runtime-status] [4600] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:23:43.126Z] [runtime-status] [4600] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:43.128Z] [runtime-status] [4600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.131Z] [runtime-status] [4600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.133Z] [runtime-status] [4600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:43.133Z] [runtime-status] [4600] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4600] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:43.651Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: IDLE"}}
[debug] [2021-11-08T14:23:48.817Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:23:48.818Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:23:48.818Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:23:48.838Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:23:48.838Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:23:48.838Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:23:48.838Z] [worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11212 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11212"}}
[debug] [2021-11-08T14:23:48.838Z] [worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: BUSY"}}
[debug] [2021-11-08T14:23:50.393Z] [runtime-status] [11212] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:23:50.407Z] [runtime-status] [11212] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:23:50.460Z] [runtime-status] [11212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.483Z] [runtime-status] [11212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.493Z] [runtime-status] [11212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:23:50.505Z] [runtime-status] [11212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.732Z] [runtime-status] [11212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:23:50.733Z] [runtime-status] [11212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:50.737Z] [runtime-status] [11212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.742Z] [runtime-status] [11212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.747Z] [runtime-status] [11212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:50.747Z] [runtime-status] [11212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:51.671Z] [runtime-status] [11212] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:23:51.674Z] [runtime-status] [11212] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:23:51.675Z] [runtime-status] [11212] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:23:51.687Z] [runtime-status] [11212] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11212 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11212"}}
[debug] [2021-11-08T14:23:51.697Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:23:51.698Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T14:23:51.746Z] [runtime-status] [11212] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:23:51.768Z] [runtime-status] [11212] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11212] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T14:23:51.907Z] [worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: exited"}}
[debug] [2021-11-08T14:23:51.908Z] [worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7137a0de-1e74-4e1c-bf1f-76ff7a01b30f]: FINISHED"}}
[debug] [2021-11-08T14:23:51.908Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:23:56.402Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:23:56.402Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:23:56.403Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=23900 --> us-central1-api
[debug] [2021-11-08T14:23:56.403Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:23:56.422Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:23:56.422Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:23:56.422Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:23:56.422Z] [worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14584 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14584"}}
[debug] [2021-11-08T14:23:56.422Z] [worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: BUSY"}}
[debug] [2021-11-08T14:23:57.298Z] [runtime-status] [14584] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:23:57.304Z] [runtime-status] [14584] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:23:57.315Z] [runtime-status] [14584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.331Z] [runtime-status] [14584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.338Z] [runtime-status] [14584] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:23:57.343Z] [runtime-status] [14584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.675Z] [runtime-status] [14584] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:23:57.675Z] [runtime-status] [14584] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:57.680Z] [runtime-status] [14584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.687Z] [runtime-status] [14584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.690Z] [runtime-status] [14584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:23:57.691Z] [runtime-status] [14584] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:23:58.339Z] [runtime-status] [14584] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:23:58.342Z] [runtime-status] [14584] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:23:58.342Z] [runtime-status] [14584] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:23:58.356Z] [runtime-status] [14584] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\14584 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\14584"}}
[debug] [2021-11-08T14:23:58.371Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:23:58.371Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=23900, mapping to path=/payments/create?total=23900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=23900, mapping to path=/payments/create?total=23900"}}
[debug] [2021-11-08T14:23:58.394Z] [runtime-status] [14584] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:23:58.411Z] [runtime-status] [14584] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14584] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T14:23:58.529Z] [worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: exited"}}
[debug] [2021-11-08T14:23:58.529Z] [worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb0e2e44-d06a-4918-b2f2-2ec7dc3fff17]: FINISHED"}}
[debug] [2021-11-08T14:23:58.529Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:25:44.808Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:25:45.316Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:25:45.436Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:25:46.452Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T14:25:46.453Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: FINISHING"}}
[debug] [2021-11-08T14:25:46.454Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:25:46.475Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T14:25:46.475Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T14:25:46.476Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T14:25:46.476Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20156 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20156"}}
[debug] [2021-11-08T14:25:46.476Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: BUSY"}}
[debug] [2021-11-08T14:25:46.476Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: exited"}}
[debug] [2021-11-08T14:25:46.477Z] [worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76f45b75-67a2-4b76-ab81-38c694d94539]: FINISHED"}}
[debug] [2021-11-08T14:25:46.869Z] [runtime-status] [20156] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:25:46.874Z] [runtime-status] [20156] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:25:46.887Z] [runtime-status] [20156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:46.899Z] [runtime-status] [20156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:46.906Z] [runtime-status] [20156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:25:46.911Z] [runtime-status] [20156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:47.049Z] [runtime-status] [20156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:25:47.049Z] [runtime-status] [20156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:25:47.054Z] [runtime-status] [20156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:47.059Z] [runtime-status] [20156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:47.064Z] [runtime-status] [20156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:25:47.065Z] [runtime-status] [20156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:25:47.409Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: IDLE"}}
[debug] [2021-11-08T14:26:00.677Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:26:00.677Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:26:00.677Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:26:00.678Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T14:26:00.688Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:26:00.688Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:26:00.688Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:26:00.688Z] [worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8680 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8680"}}
[debug] [2021-11-08T14:26:00.688Z] [worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: BUSY"}}
[debug] [2021-11-08T14:26:01.082Z] [runtime-status] [8680] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:26:01.088Z] [runtime-status] [8680] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:26:01.099Z] [runtime-status] [8680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.108Z] [runtime-status] [8680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.111Z] [runtime-status] [8680] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:26:01.114Z] [runtime-status] [8680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.234Z] [runtime-status] [8680] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:26:01.235Z] [runtime-status] [8680] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:26:01.237Z] [runtime-status] [8680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.241Z] [runtime-status] [8680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.244Z] [runtime-status] [8680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:01.244Z] [runtime-status] [8680] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:26:02.115Z] [runtime-status] [8680] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:26:02.118Z] [runtime-status] [8680] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:26:02.118Z] [runtime-status] [8680] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:26:02.127Z] [runtime-status] [8680] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\8680 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\8680"}}
[debug] [2021-11-08T14:26:02.136Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:26:02.137Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T14:26:02.156Z] [runtime-status] [8680] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:26:02.174Z] [runtime-status] [8680] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8680] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T14:26:02.229Z] [worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: exited"}}
[debug] [2021-11-08T14:26:02.229Z] [worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5724793a-5d1e-4aa8-91eb-8c6f6f01924d]: FINISHED"}}
[debug] [2021-11-08T14:26:02.229Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:26:06.636Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:26:06.637Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:26:06.638Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T14:26:06.639Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:26:06.658Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:26:06.659Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:26:06.659Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:26:06.659Z] [worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\19692 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\19692"}}
[debug] [2021-11-08T14:26:06.659Z] [worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: BUSY"}}
[debug] [2021-11-08T14:26:07.634Z] [runtime-status] [19692] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:26:07.636Z] [runtime-status] [19692] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:26:07.645Z] [runtime-status] [19692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.651Z] [runtime-status] [19692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.654Z] [runtime-status] [19692] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:26:07.658Z] [runtime-status] [19692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.819Z] [runtime-status] [19692] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:26:07.820Z] [runtime-status] [19692] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:26:07.829Z] [runtime-status] [19692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.835Z] [runtime-status] [19692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.843Z] [runtime-status] [19692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:26:07.844Z] [runtime-status] [19692] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:26:08.616Z] [runtime-status] [19692] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:26:08.617Z] [runtime-status] [19692] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:26:08.618Z] [runtime-status] [19692] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:26:08.626Z] [runtime-status] [19692] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\19692 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\19692"}}
[debug] [2021-11-08T14:26:08.634Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:26:08.635Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T14:26:08.659Z] [runtime-status] [19692] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:26:08.668Z] [runtime-status] [19692] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19692] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:137:13) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:137:13)\r"}}
[info] >      at Route.dispatch (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\route.js:112:3) {"user":"    at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:112:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:281:22 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:281:22\r"}}
[info] >      at Function.process_params (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:335:12) {"user":"    at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:335:12)\r"}}
[info] >      at next (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\index.js:275:10) {"user":"    at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:275:10)\r"}}
[info] >      at jsonParser (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2021-11-08T14:26:08.715Z] [worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: exited"}}
[debug] [2021-11-08T14:26:08.716Z] [worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0bd32b17-b3ab-4afb-ac7e-8d14b57159b6]: FINISHED"}}
[debug] [2021-11-08T14:26:08.716Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:28:18.088Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:28:18.596Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T14:28:19.605Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T14:28:19.605Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: FINISHING"}}
[debug] [2021-11-08T14:28:19.606Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:28:19.616Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T14:28:19.616Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T14:28:19.616Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T14:28:19.616Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\6668 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\6668"}}
[debug] [2021-11-08T14:28:19.617Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: BUSY"}}
[debug] [2021-11-08T14:28:19.617Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: exited"}}
[debug] [2021-11-08T14:28:19.617Z] [worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b2e56175-601f-4d81-b3c7-b93119bb3e68]: FINISHED"}}
[debug] [2021-11-08T14:28:19.979Z] [runtime-status] [6668] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:28:19.981Z] [runtime-status] [6668] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:28:19.987Z] [runtime-status] [6668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:19.994Z] [runtime-status] [6668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:19.998Z] [runtime-status] [6668] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:28:20.000Z] [runtime-status] [6668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:20.103Z] [runtime-status] [6668] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:28:20.103Z] [runtime-status] [6668] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:20.106Z] [runtime-status] [6668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:20.109Z] [runtime-status] [6668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:20.111Z] [runtime-status] [6668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:20.111Z] [runtime-status] [6668] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6668] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:20.482Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: IDLE"}}
[debug] [2021-11-08T14:28:35.917Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:28:35.918Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:28:35.918Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:28:35.919Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T14:28:35.941Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:28:35.941Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:28:35.941Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:28:35.941Z] [worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16340"}}
[debug] [2021-11-08T14:28:35.941Z] [worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: BUSY"}}
[debug] [2021-11-08T14:28:36.671Z] [runtime-status] [16340] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:28:36.675Z] [runtime-status] [16340] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:28:36.686Z] [runtime-status] [16340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:36.699Z] [runtime-status] [16340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:36.705Z] [runtime-status] [16340] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:28:36.718Z] [runtime-status] [16340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:37.043Z] [runtime-status] [16340] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:28:37.044Z] [runtime-status] [16340] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:37.052Z] [runtime-status] [16340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:37.060Z] [runtime-status] [16340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:37.076Z] [runtime-status] [16340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:37.077Z] [runtime-status] [16340] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:37.637Z] [runtime-status] [16340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:28:37.640Z] [runtime-status] [16340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:28:37.640Z] [runtime-status] [16340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:28:37.647Z] [runtime-status] [16340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\16340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\16340"}}
[debug] [2021-11-08T14:28:37.658Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:28:37.659Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T14:28:37.676Z] [runtime-status] [16340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:28:37.703Z] [runtime-status] [16340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16340] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 14:28:39 GMT', {"user":"      date: 'Mon, 08 Nov 2021 14:28:39 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 14:28:39 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485', {"user":"      'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485',\r"}}
[info] >        'original-request': 'req_LvHXYEF5vekItu', {"user":"      'original-request': 'req_LvHXYEF5vekItu',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_LvHXYEF5vekItu',\r"}}
[info] >        'request-id': 'req_LvHXYEF5vekItu', {"user":"      'request-id': 'req_LvHXYEF5vekItu',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_LvHXYEF5vekItu',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_LvHXYEF5vekItu' {"user":"    requestId: 'req_LvHXYEF5vekItu'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_LvHXYEF5vekItu'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 14:28:39 GMT', {"user":"    date: 'Mon, 08 Nov 2021 14:28:39 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 14:28:39 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485', {"user":"    'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '4fc07298-6c3d-496d-873c-f2e4c9087485',\r"}}
[info] >      'original-request': 'req_LvHXYEF5vekItu', {"user":"    'original-request': 'req_LvHXYEF5vekItu',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_LvHXYEF5vekItu',\r"}}
[info] >      'request-id': 'req_LvHXYEF5vekItu', {"user":"    'request-id': 'req_LvHXYEF5vekItu',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_LvHXYEF5vekItu',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_LvHXYEF5vekItu', {"user":"  requestId: 'req_LvHXYEF5vekItu',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_LvHXYEF5vekItu',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T14:28:38.927Z] [worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: exited"}}
[debug] [2021-11-08T14:28:38.927Z] [worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6fc80e1a-0cfc-455f-997b-12d8d3f9193f]: FINISHED"}}
[debug] [2021-11-08T14:28:38.927Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:28:40.657Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:28:40.657Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:28:40.658Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=2392 --> us-central1-api
[debug] [2021-11-08T14:28:40.658Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:28:40.677Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:28:40.677Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:28:40.677Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:28:40.677Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:28:40.677Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY"}}
[debug] [2021-11-08T14:28:41.698Z] [runtime-status] [9164] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:28:41.703Z] [runtime-status] [9164] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:28:41.712Z] [runtime-status] [9164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.723Z] [runtime-status] [9164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.726Z] [runtime-status] [9164] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:28:41.729Z] [runtime-status] [9164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.841Z] [runtime-status] [9164] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:28:41.841Z] [runtime-status] [9164] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:41.843Z] [runtime-status] [9164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.846Z] [runtime-status] [9164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.848Z] [runtime-status] [9164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:28:41.848Z] [runtime-status] [9164] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:28:42.266Z] [runtime-status] [9164] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:28:42.269Z] [runtime-status] [9164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:28:42.270Z] [runtime-status] [9164] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:28:42.277Z] [runtime-status] [9164] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:28:42.285Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:28:42.286Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392"}}
[debug] [2021-11-08T14:28:42.301Z] [runtime-status] [9164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:28:42.333Z] [runtime-status] [9164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:28:42.978Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: IDLE"}}
[debug] [2021-11-08T14:28:42.978Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:32:48.511Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:32:48.511Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:32:48.512Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=2392 --> us-central1-api
[debug] [2021-11-08T14:32:48.513Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:32:48.513Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:32:48.513Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY"}}
[debug] [2021-11-08T14:32:48.515Z] [runtime-status] [9164] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:32:48.518Z] [runtime-status] [9164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:32:48.518Z] [runtime-status] [9164] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:32:48.519Z] [runtime-status] [9164] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:32:48.522Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:32:48.522Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392"}}
[debug] [2021-11-08T14:32:48.528Z] [runtime-status] [9164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:32:48.537Z] [runtime-status] [9164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:32:49.099Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: IDLE"}}
[debug] [2021-11-08T14:32:49.100Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:33:38.422Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:33:38.422Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:33:38.422Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:33:38.423Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:33:38.423Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:33:38.424Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: BUSY"}}
[debug] [2021-11-08T14:33:38.425Z] [runtime-status] [9164] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:33:38.435Z] [runtime-status] [9164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:33:38.436Z] [runtime-status] [9164] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:33:38.436Z] [runtime-status] [9164] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\9164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\9164"}}
[debug] [2021-11-08T14:33:38.439Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:33:38.439Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T14:33:38.448Z] [runtime-status] [9164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:33:38.451Z] [runtime-status] [9164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9164] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 14:33:39 GMT', {"user":"      date: 'Mon, 08 Nov 2021 14:33:39 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 14:33:39 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816', {"user":"      'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816',\r"}}
[info] >        'original-request': 'req_rapYYFEXMm113G', {"user":"      'original-request': 'req_rapYYFEXMm113G',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_rapYYFEXMm113G',\r"}}
[info] >        'request-id': 'req_rapYYFEXMm113G', {"user":"      'request-id': 'req_rapYYFEXMm113G',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_rapYYFEXMm113G',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_rapYYFEXMm113G' {"user":"    requestId: 'req_rapYYFEXMm113G'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_rapYYFEXMm113G'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 14:33:39 GMT', {"user":"    date: 'Mon, 08 Nov 2021 14:33:39 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 14:33:39 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816', {"user":"    'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '6c6368c3-ce12-453b-8d8f-7b1064406816',\r"}}
[info] >      'original-request': 'req_rapYYFEXMm113G', {"user":"    'original-request': 'req_rapYYFEXMm113G',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_rapYYFEXMm113G',\r"}}
[info] >      'request-id': 'req_rapYYFEXMm113G', {"user":"    'request-id': 'req_rapYYFEXMm113G',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_rapYYFEXMm113G',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_rapYYFEXMm113G', {"user":"  requestId: 'req_rapYYFEXMm113G',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_rapYYFEXMm113G',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T14:33:39.097Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: exited"}}
[debug] [2021-11-08T14:33:39.100Z] [worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fb02a42-b7a7-4f4b-b292-b14b7d92ae45]: FINISHED"}}
[debug] [2021-11-08T14:33:39.100Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:33:50.790Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:33:50.791Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:33:50.791Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=34995 --> us-central1-api
[debug] [2021-11-08T14:33:50.791Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T14:33:50.807Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T14:33:50.807Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T14:33:50.807Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:33:50.807Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:33:50.808Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY"}}
[debug] [2021-11-08T14:33:51.393Z] [runtime-status] [13340] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T14:33:51.396Z] [runtime-status] [13340] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Disabled runtime features: undefined"}}
[debug] [2021-11-08T14:33:51.411Z] [runtime-status] [13340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.424Z] [runtime-status] [13340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.429Z] [runtime-status] [13340] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T14:33:51.433Z] [runtime-status] [13340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.642Z] [runtime-status] [13340] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T14:33:51.642Z] [runtime-status] [13340] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:33:51.645Z] [runtime-status] [13340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.651Z] [runtime-status] [13340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.656Z] [runtime-status] [13340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T14:33:51.657Z] [runtime-status] [13340] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T14:33:52.056Z] [runtime-status] [13340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:33:52.058Z] [runtime-status] [13340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:33:52.059Z] [runtime-status] [13340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:33:52.064Z] [runtime-status] [13340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:33:52.070Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:33:52.070Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=34995, mapping to path=/payments/create?total=34995 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=34995, mapping to path=/payments/create?total=34995"}}
[debug] [2021-11-08T14:33:52.086Z] [runtime-status] [13340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:33:52.120Z] [runtime-status] [13340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:33:52.911Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE"}}
[debug] [2021-11-08T14:33:52.911Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:37:28.477Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:37:28.478Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:37:28.478Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=34995 --> us-central1-api
[debug] [2021-11-08T14:37:28.478Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:37:28.479Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:37:28.479Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY"}}
[debug] [2021-11-08T14:37:28.483Z] [runtime-status] [13340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:37:28.487Z] [runtime-status] [13340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:37:28.487Z] [runtime-status] [13340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:37:28.488Z] [runtime-status] [13340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:37:28.505Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:37:28.505Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=34995, mapping to path=/payments/create?total=34995 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=34995, mapping to path=/payments/create?total=34995"}}
[debug] [2021-11-08T14:37:28.517Z] [runtime-status] [13340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:37:28.530Z] [runtime-status] [13340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:37:29.072Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE"}}
[debug] [2021-11-08T14:37:29.072Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:37:51.300Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:37:51.300Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:37:51.300Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T14:37:51.301Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:37:51.301Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:37:51.301Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY"}}
[debug] [2021-11-08T14:37:51.302Z] [runtime-status] [13340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:37:51.304Z] [runtime-status] [13340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:37:51.305Z] [runtime-status] [13340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:37:51.305Z] [runtime-status] [13340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:37:51.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:37:51.309Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T14:37:51.318Z] [runtime-status] [13340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:37:51.322Z] [runtime-status] [13340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:37:51.821Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE"}}
[debug] [2021-11-08T14:37:51.829Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:51:38.072Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:51:38.074Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:51:38.074Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=70994 --> us-central1-api
[debug] [2021-11-08T14:51:38.075Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:51:38.075Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:51:38.075Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY"}}
[debug] [2021-11-08T14:51:38.078Z] [runtime-status] [13340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:51:38.082Z] [runtime-status] [13340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:51:38.083Z] [runtime-status] [13340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:51:38.084Z] [runtime-status] [13340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:51:38.087Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:51:38.088Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=70994, mapping to path=/payments/create?total=70994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=70994, mapping to path=/payments/create?total=70994"}}
[debug] [2021-11-08T14:51:38.094Z] [runtime-status] [13340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:51:38.099Z] [runtime-status] [13340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T14:51:38.789Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: IDLE"}}
[debug] [2021-11-08T14:51:38.789Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T14:52:53.832Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T14:52:53.833Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T14:52:53.833Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T14:52:53.834Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T14:52:53.834Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:52:53.834Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: BUSY"}}
[debug] [2021-11-08T14:52:53.836Z] [runtime-status] [13340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T14:52:53.840Z] [runtime-status] [13340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T14:52:53.841Z] [runtime-status] [13340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T14:52:53.842Z] [runtime-status] [13340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13340"}}
[debug] [2021-11-08T14:52:53.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T14:52:53.847Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T14:52:53.857Z] [runtime-status] [13340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T14:52:53.860Z] [runtime-status] [13340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13340] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 14:52:54 GMT', {"user":"      date: 'Mon, 08 Nov 2021 14:52:54 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 14:52:54 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e', {"user":"      'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e',\r"}}
[info] >        'original-request': 'req_964gvAxJB5pINs', {"user":"      'original-request': 'req_964gvAxJB5pINs',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_964gvAxJB5pINs',\r"}}
[info] >        'request-id': 'req_964gvAxJB5pINs', {"user":"      'request-id': 'req_964gvAxJB5pINs',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_964gvAxJB5pINs',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_964gvAxJB5pINs' {"user":"    requestId: 'req_964gvAxJB5pINs'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_964gvAxJB5pINs'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 14:52:54 GMT', {"user":"    date: 'Mon, 08 Nov 2021 14:52:54 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 14:52:54 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e', {"user":"    'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a5dc3de3-1e42-4ff7-93d0-4e080ccf020e',\r"}}
[info] >      'original-request': 'req_964gvAxJB5pINs', {"user":"    'original-request': 'req_964gvAxJB5pINs',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_964gvAxJB5pINs',\r"}}
[info] >      'request-id': 'req_964gvAxJB5pINs', {"user":"    'request-id': 'req_964gvAxJB5pINs',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_964gvAxJB5pINs',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_964gvAxJB5pINs', {"user":"  requestId: 'req_964gvAxJB5pINs',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_964gvAxJB5pINs',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T14:52:54.464Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: exited"}}
[debug] [2021-11-08T14:52:54.464Z] [worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f7a51025-0e8b-4394-982c-5491de1ba7e8]: FINISHED"}}
[debug] [2021-11-08T14:52:54.467Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:06:56.182Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:06:56.183Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:06:56.183Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:06:56.184Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:06:56.205Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:06:56.206Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:06:56.206Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:06:56.206Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:06:56.206Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY"}}
[debug] [2021-11-08T15:06:57.013Z] [runtime-status] [11120] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:06:57.022Z] [runtime-status] [11120] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:06:57.044Z] [runtime-status] [11120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.074Z] [runtime-status] [11120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.079Z] [runtime-status] [11120] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:06:57.089Z] [runtime-status] [11120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.229Z] [runtime-status] [11120] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:06:57.229Z] [runtime-status] [11120] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:06:57.232Z] [runtime-status] [11120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.237Z] [runtime-status] [11120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.239Z] [runtime-status] [11120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:06:57.240Z] [runtime-status] [11120] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:06:57.696Z] [runtime-status] [11120] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:06:57.698Z] [runtime-status] [11120] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:06:57.698Z] [runtime-status] [11120] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:06:57.704Z] [runtime-status] [11120] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:06:57.711Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:06:57.711Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:06:57.726Z] [runtime-status] [11120] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:06:57.752Z] [runtime-status] [11120] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:06:58.416Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: IDLE"}}
[debug] [2021-11-08T15:06:58.416Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:09:31.510Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:09:31.511Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:09:31.511Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:09:31.511Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:09:31.511Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:09:31.511Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY"}}
[debug] [2021-11-08T15:09:31.513Z] [runtime-status] [11120] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:09:31.515Z] [runtime-status] [11120] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:09:31.515Z] [runtime-status] [11120] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:09:31.516Z] [runtime-status] [11120] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:09:31.520Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:09:31.520Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:09:31.528Z] [runtime-status] [11120] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:09:31.535Z] [runtime-status] [11120] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:09:32.154Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: IDLE"}}
[debug] [2021-11-08T15:09:32.154Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:10:56.740Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:10:56.741Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:10:56.741Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:10:56.741Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:10:56.741Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:10:56.741Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: BUSY"}}
[debug] [2021-11-08T15:10:56.743Z] [runtime-status] [11120] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:10:56.745Z] [runtime-status] [11120] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:10:56.745Z] [runtime-status] [11120] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:10:56.746Z] [runtime-status] [11120] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11120 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11120"}}
[debug] [2021-11-08T15:10:56.748Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:10:56.749Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:10:56.755Z] [runtime-status] [11120] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:10:56.759Z] [runtime-status] [11120] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11120] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:10:57 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:10:57 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:10:57 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551', {"user":"      'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551',\r"}}
[info] >        'original-request': 'req_4YORlBR00eo0nK', {"user":"      'original-request': 'req_4YORlBR00eo0nK',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_4YORlBR00eo0nK',\r"}}
[info] >        'request-id': 'req_4YORlBR00eo0nK', {"user":"      'request-id': 'req_4YORlBR00eo0nK',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_4YORlBR00eo0nK',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_4YORlBR00eo0nK' {"user":"    requestId: 'req_4YORlBR00eo0nK'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_4YORlBR00eo0nK'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:10:57 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:10:57 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:10:57 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551', {"user":"    'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '18cb23dc-8012-47c1-88f7-01ba3b30f551',\r"}}
[info] >      'original-request': 'req_4YORlBR00eo0nK', {"user":"    'original-request': 'req_4YORlBR00eo0nK',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_4YORlBR00eo0nK',\r"}}
[info] >      'request-id': 'req_4YORlBR00eo0nK', {"user":"    'request-id': 'req_4YORlBR00eo0nK',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_4YORlBR00eo0nK',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_4YORlBR00eo0nK', {"user":"  requestId: 'req_4YORlBR00eo0nK',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_4YORlBR00eo0nK',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:10:57.252Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: exited"}}
[debug] [2021-11-08T15:10:57.253Z] [worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c4df7f29-a476-42c9-bab9-19f623c97975]: FINISHED"}}
[debug] [2021-11-08T15:10:57.256Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:20:08.694Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:20:08.695Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:20:08.695Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:20:08.696Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:20:08.723Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:20:08.723Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:20:08.723Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:20:08.724Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11196"}}
[debug] [2021-11-08T15:20:08.724Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: BUSY"}}
[debug] [2021-11-08T15:20:09.454Z] [runtime-status] [11196] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:20:09.457Z] [runtime-status] [11196] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:20:09.464Z] [runtime-status] [11196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.471Z] [runtime-status] [11196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.474Z] [runtime-status] [11196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:20:09.563Z] [runtime-status] [11196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.591Z] [runtime-status] [11196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:20:09.592Z] [runtime-status] [11196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:20:09.594Z] [runtime-status] [11196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.598Z] [runtime-status] [11196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.600Z] [runtime-status] [11196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:20:09.600Z] [runtime-status] [11196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:20:10.018Z] [runtime-status] [11196] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:20:10.020Z] [runtime-status] [11196] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:20:10.021Z] [runtime-status] [11196] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:20:10.028Z] [runtime-status] [11196] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11196 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11196"}}
[debug] [2021-11-08T15:20:10.035Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:20:10.035Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:20:10.079Z] [runtime-status] [11196] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:20:10.102Z] [runtime-status] [11196] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:20:10.816Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: IDLE"}}
[debug] [2021-11-08T15:20:10.816Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:25:40.506Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:25:40.507Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:25:40.507Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:25:40.508Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:25:40.508Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11196 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11196"}}
[debug] [2021-11-08T15:25:40.508Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: BUSY"}}
[debug] [2021-11-08T15:25:40.510Z] [runtime-status] [11196] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:25:40.513Z] [runtime-status] [11196] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:25:40.513Z] [runtime-status] [11196] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:25:40.514Z] [runtime-status] [11196] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11196 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11196"}}
[debug] [2021-11-08T15:25:40.524Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:25:40.525Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:25:40.532Z] [runtime-status] [11196] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:25:40.541Z] [runtime-status] [11196] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11196] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:25:41 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:25:41 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:25:41 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7', {"user":"      'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7',\r"}}
[info] >        'original-request': 'req_lZRya9GeZ6yLD6', {"user":"      'original-request': 'req_lZRya9GeZ6yLD6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_lZRya9GeZ6yLD6',\r"}}
[info] >        'request-id': 'req_lZRya9GeZ6yLD6', {"user":"      'request-id': 'req_lZRya9GeZ6yLD6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_lZRya9GeZ6yLD6',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_lZRya9GeZ6yLD6' {"user":"    requestId: 'req_lZRya9GeZ6yLD6'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_lZRya9GeZ6yLD6'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:25:41 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:25:41 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:25:41 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7', {"user":"    'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '50e872ba-4e70-403b-b606-c79393534cd7',\r"}}
[info] >      'original-request': 'req_lZRya9GeZ6yLD6', {"user":"    'original-request': 'req_lZRya9GeZ6yLD6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_lZRya9GeZ6yLD6',\r"}}
[info] >      'request-id': 'req_lZRya9GeZ6yLD6', {"user":"    'request-id': 'req_lZRya9GeZ6yLD6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_lZRya9GeZ6yLD6',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_lZRya9GeZ6yLD6', {"user":"  requestId: 'req_lZRya9GeZ6yLD6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_lZRya9GeZ6yLD6',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:25:41.308Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: exited"}}
[debug] [2021-11-08T15:25:41.308Z] [worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-93808fb5-3479-4544-af48-7ed97ab7c56e]: FINISHED"}}
[debug] [2021-11-08T15:25:41.309Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:25:51.318Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:25:51.318Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:25:51.318Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T15:25:51.319Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:25:51.340Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:25:51.340Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:25:51.340Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:25:51.341Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:25:51.341Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY"}}
[debug] [2021-11-08T15:25:51.945Z] [runtime-status] [2880] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:25:51.947Z] [runtime-status] [2880] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:25:52.008Z] [runtime-status] [2880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.009Z] [runtime-status] [2880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.009Z] [runtime-status] [2880] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:25:52.009Z] [runtime-status] [2880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.289Z] [runtime-status] [2880] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:25:52.289Z] [runtime-status] [2880] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:25:52.290Z] [runtime-status] [2880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.419Z] [runtime-status] [2880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.421Z] [runtime-status] [2880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:25:52.422Z] [runtime-status] [2880] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:25:53.077Z] [runtime-status] [2880] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:25:53.079Z] [runtime-status] [2880] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:25:53.079Z] [runtime-status] [2880] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:25:53.080Z] [runtime-status] [2880] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:25:53.082Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:25:53.083Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T15:25:53.122Z] [runtime-status] [2880] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:25:53.148Z] [runtime-status] [2880] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:25:53.800Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE"}}
[debug] [2021-11-08T15:25:53.800Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:31:12.151Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:31:12.152Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:31:12.152Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T15:31:12.153Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:31:12.153Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:31:12.153Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY"}}
[debug] [2021-11-08T15:31:12.155Z] [runtime-status] [2880] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:31:12.159Z] [runtime-status] [2880] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:31:12.159Z] [runtime-status] [2880] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:31:12.160Z] [runtime-status] [2880] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:31:12.166Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:31:12.167Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T15:31:12.175Z] [runtime-status] [2880] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:31:12.189Z] [runtime-status] [2880] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:31:12.729Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE"}}
[debug] [2021-11-08T15:31:12.730Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:31:40.416Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:31:40.417Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:31:40.417Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T15:31:40.417Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:31:40.418Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:31:40.418Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY"}}
[debug] [2021-11-08T15:31:40.419Z] [runtime-status] [2880] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:31:40.421Z] [runtime-status] [2880] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:31:40.421Z] [runtime-status] [2880] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:31:40.422Z] [runtime-status] [2880] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:31:40.424Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:31:40.425Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T15:31:40.431Z] [runtime-status] [2880] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:31:40.434Z] [runtime-status] [2880] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:31:40.745Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: IDLE"}}
[debug] [2021-11-08T15:31:40.746Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:32:05.479Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:32:05.481Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:32:05.482Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:32:05.482Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:32:05.483Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:32:05.483Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: BUSY"}}
[debug] [2021-11-08T15:32:05.484Z] [runtime-status] [2880] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:32:05.487Z] [runtime-status] [2880] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:32:05.487Z] [runtime-status] [2880] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:32:05.488Z] [runtime-status] [2880] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\2880 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\2880"}}
[debug] [2021-11-08T15:32:05.490Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:32:05.491Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:32:05.498Z] [runtime-status] [2880] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:32:05.501Z] [runtime-status] [2880] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2880] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:32:06 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:32:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:32:06 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6', {"user":"      'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6',\r"}}
[info] >        'original-request': 'req_NB1QcW2PReZqOP', {"user":"      'original-request': 'req_NB1QcW2PReZqOP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_NB1QcW2PReZqOP',\r"}}
[info] >        'request-id': 'req_NB1QcW2PReZqOP', {"user":"      'request-id': 'req_NB1QcW2PReZqOP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_NB1QcW2PReZqOP',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_NB1QcW2PReZqOP' {"user":"    requestId: 'req_NB1QcW2PReZqOP'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_NB1QcW2PReZqOP'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:32:06 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:32:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:32:06 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6', {"user":"    'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '046c5455-5924-44e8-b30d-025e3176c5e6',\r"}}
[info] >      'original-request': 'req_NB1QcW2PReZqOP', {"user":"    'original-request': 'req_NB1QcW2PReZqOP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_NB1QcW2PReZqOP',\r"}}
[info] >      'request-id': 'req_NB1QcW2PReZqOP', {"user":"    'request-id': 'req_NB1QcW2PReZqOP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_NB1QcW2PReZqOP',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_NB1QcW2PReZqOP', {"user":"  requestId: 'req_NB1QcW2PReZqOP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_NB1QcW2PReZqOP',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:32:06.105Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: exited"}}
[debug] [2021-11-08T15:32:06.105Z] [worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9702a183-aa5c-4faa-bb1b-01f150bf4a24]: FINISHED"}}
[debug] [2021-11-08T15:32:06.106Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:32:17.426Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:32:17.426Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:32:17.427Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:32:17.427Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:32:17.447Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:32:17.447Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:32:17.447Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:32:17.448Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11732"}}
[debug] [2021-11-08T15:32:17.448Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: BUSY"}}
[debug] [2021-11-08T15:32:19.026Z] [runtime-status] [11732] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:32:19.029Z] [runtime-status] [11732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:32:19.039Z] [runtime-status] [11732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.051Z] [runtime-status] [11732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.057Z] [runtime-status] [11732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:32:19.061Z] [runtime-status] [11732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.240Z] [runtime-status] [11732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:32:19.241Z] [runtime-status] [11732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:32:19.246Z] [runtime-status] [11732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.252Z] [runtime-status] [11732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.256Z] [runtime-status] [11732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:32:19.257Z] [runtime-status] [11732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:32:19.847Z] [runtime-status] [11732] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:32:19.850Z] [runtime-status] [11732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:32:19.850Z] [runtime-status] [11732] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:32:19.859Z] [runtime-status] [11732] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11732"}}
[debug] [2021-11-08T15:32:19.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:32:19.867Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:32:19.883Z] [runtime-status] [11732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:32:19.916Z] [runtime-status] [11732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:32:20.584Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: IDLE"}}
[debug] [2021-11-08T15:32:20.584Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:33:35.536Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:33:35.536Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:33:35.536Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:33:35.536Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:33:35.536Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11732"}}
[debug] [2021-11-08T15:33:35.537Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: BUSY"}}
[debug] [2021-11-08T15:33:35.538Z] [runtime-status] [11732] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:33:35.539Z] [runtime-status] [11732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:33:35.540Z] [runtime-status] [11732] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:33:35.540Z] [runtime-status] [11732] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11732"}}
[debug] [2021-11-08T15:33:35.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:33:35.544Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:33:35.549Z] [runtime-status] [11732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:33:35.553Z] [runtime-status] [11732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11732] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:519 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:519\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:519\r"}}
[info] >                new StripeConnectionError({ {"user":"              new StripeConnectionError({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m               new StripeConnectionError({\r"}}
[info] >                ^ {"user":"              ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m               ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeConnectionError: An error occurred with our connection to Stripe. {"user":"StripeConnectionError: An error occurred with our connection to Stripe.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeConnectionError: An error occurred with our connection to Stripe.\r"}}
[info] >      at C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:519:15 {"user":"    at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:519:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:519:15\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeConnectionError', {"user":"  type: 'StripeConnectionError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeConnectionError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      message: 'An error occurred with our connection to Stripe.', {"user":"    message: 'An error occurred with our connection to Stripe.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'An error occurred with our connection to Stripe.',\r"}}
[info] >      detail: Error: socket hang up {"user":"    detail: Error: socket hang up\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     detail: Error: socket hang up\r"}}
[info] >          at connResetException (node:internal/errors:691:14) {"user":"        at connResetException (node:internal/errors:691:14)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at connResetException (node:internal/errors:691:14)\r"}}
[info] >          at TLSSocket.socketOnEnd (node:_http_client:471:23) {"user":"        at TLSSocket.socketOnEnd (node:_http_client:471:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at TLSSocket.socketOnEnd (node:_http_client:471:23)\r"}}
[info] >          at TLSSocket.emit (node:events:402:35) {"user":"        at TLSSocket.emit (node:events:402:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at TLSSocket.emit (node:events:402:35)\r"}}
[info] >          at endReadableNT (node:internal/streams/readable:1343:12) {"user":"        at endReadableNT (node:internal/streams/readable:1343:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at endReadableNT (node:internal/streams/readable:1343:12)\r"}}
[info] >          at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"        at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >        code: 'ECONNRESET' {"user":"      code: 'ECONNRESET'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       code: 'ECONNRESET'\r"}}
[info] >      } {"user":"    }\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     }\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: undefined, {"user":"  rawType: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: undefined,\r"}}
[info] >    code: undefined, {"user":"  code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: undefined,\r"}}
[info] >    doc_url: undefined, {"user":"  doc_url: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: undefined,\r"}}
[info] >    param: undefined, {"user":"  param: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: undefined,\r"}}
[info] >    detail: Error: socket hang up {"user":"  detail: Error: socket hang up\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: Error: socket hang up\r"}}
[info] >        at connResetException (node:internal/errors:691:14) {"user":"      at connResetException (node:internal/errors:691:14)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at connResetException (node:internal/errors:691:14)\r"}}
[info] >        at TLSSocket.socketOnEnd (node:_http_client:471:23) {"user":"      at TLSSocket.socketOnEnd (node:_http_client:471:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at TLSSocket.socketOnEnd (node:_http_client:471:23)\r"}}
[info] >        at TLSSocket.emit (node:events:402:35) {"user":"      at TLSSocket.emit (node:events:402:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at TLSSocket.emit (node:events:402:35)\r"}}
[info] >        at endReadableNT (node:internal/streams/readable:1343:12) {"user":"      at endReadableNT (node:internal/streams/readable:1343:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at endReadableNT (node:internal/streams/readable:1343:12)\r"}}
[info] >        at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"      at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >      code: 'ECONNRESET' {"user":"    code: 'ECONNRESET'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'ECONNRESET'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    headers: undefined, {"user":"  headers: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: undefined,\r"}}
[info] >    requestId: undefined, {"user":"  requestId: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: undefined,\r"}}
[info] >    statusCode: undefined, {"user":"  statusCode: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: undefined,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:33:35.785Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: exited"}}
[debug] [2021-11-08T15:33:35.785Z] [worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c87419eb-2bad-40f1-9c1a-c3b1ada0c97a]: FINISHED"}}
[debug] [2021-11-08T15:33:35.785Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:34:32.403Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:34:32.403Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:34:32.403Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:34:32.404Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:34:32.418Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:34:32.418Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:34:32.418Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:34:32.418Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3932"}}
[debug] [2021-11-08T15:34:32.418Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: BUSY"}}
[debug] [2021-11-08T15:34:32.892Z] [runtime-status] [3932] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:34:32.895Z] [runtime-status] [3932] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:34:32.903Z] [runtime-status] [3932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:32.909Z] [runtime-status] [3932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:32.913Z] [runtime-status] [3932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:34:32.915Z] [runtime-status] [3932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:33.031Z] [runtime-status] [3932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:34:33.031Z] [runtime-status] [3932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:34:33.035Z] [runtime-status] [3932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:33.039Z] [runtime-status] [3932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:33.041Z] [runtime-status] [3932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:34:33.042Z] [runtime-status] [3932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:34:33.427Z] [runtime-status] [3932] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:34:33.429Z] [runtime-status] [3932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:34:33.430Z] [runtime-status] [3932] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:34:33.437Z] [runtime-status] [3932] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3932"}}
[debug] [2021-11-08T15:34:33.444Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:34:33.444Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:34:33.455Z] [runtime-status] [3932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:34:33.480Z] [runtime-status] [3932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:34:34.161Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: IDLE"}}
[debug] [2021-11-08T15:34:34.161Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:35:25.351Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:35:25.351Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:35:25.351Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:35:25.352Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:35:25.352Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3932"}}
[debug] [2021-11-08T15:35:25.352Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: BUSY"}}
[debug] [2021-11-08T15:35:25.353Z] [runtime-status] [3932] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:35:25.356Z] [runtime-status] [3932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:35:25.356Z] [runtime-status] [3932] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:35:25.357Z] [runtime-status] [3932] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\3932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\3932"}}
[debug] [2021-11-08T15:35:25.361Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:35:25.361Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:35:25.368Z] [runtime-status] [3932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:35:25.373Z] [runtime-status] [3932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [3932] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:35:26 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:35:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:35:26 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31', {"user":"      'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31',\r"}}
[info] >        'original-request': 'req_1qVMvO3es1scfN', {"user":"      'original-request': 'req_1qVMvO3es1scfN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_1qVMvO3es1scfN',\r"}}
[info] >        'request-id': 'req_1qVMvO3es1scfN', {"user":"      'request-id': 'req_1qVMvO3es1scfN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_1qVMvO3es1scfN',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_1qVMvO3es1scfN' {"user":"    requestId: 'req_1qVMvO3es1scfN'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_1qVMvO3es1scfN'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:35:26 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:35:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:35:26 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31', {"user":"    'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '24125254-cd83-468f-aae6-a53cba2a9d31',\r"}}
[info] >      'original-request': 'req_1qVMvO3es1scfN', {"user":"    'original-request': 'req_1qVMvO3es1scfN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_1qVMvO3es1scfN',\r"}}
[info] >      'request-id': 'req_1qVMvO3es1scfN', {"user":"    'request-id': 'req_1qVMvO3es1scfN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_1qVMvO3es1scfN',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_1qVMvO3es1scfN', {"user":"  requestId: 'req_1qVMvO3es1scfN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_1qVMvO3es1scfN',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:35:26.113Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: exited"}}
[debug] [2021-11-08T15:35:26.113Z] [worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1df3145c-c500-4b07-bc3d-b2193ba7b60f]: FINISHED"}}
[debug] [2021-11-08T15:35:26.113Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:35:30.249Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:35:30.250Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:35:30.250Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:35:30.251Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:35:30.267Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:35:30.268Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:35:30.268Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:35:30.268Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:35:30.268Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:35:31.598Z] [runtime-status] [5696] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:35:31.603Z] [runtime-status] [5696] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:35:31.614Z] [runtime-status] [5696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.625Z] [runtime-status] [5696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.630Z] [runtime-status] [5696] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:35:31.633Z] [runtime-status] [5696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.815Z] [runtime-status] [5696] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:35:31.816Z] [runtime-status] [5696] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:35:31.820Z] [runtime-status] [5696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.826Z] [runtime-status] [5696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.829Z] [runtime-status] [5696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:35:31.829Z] [runtime-status] [5696] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:35:32.368Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:35:32.371Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:35:32.371Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:35:32.379Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:35:32.390Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:35:32.390Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:35:32.407Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:35:32.443Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:35:33.131Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:35:33.131Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:47:56.331Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:47:56.331Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:47:56.331Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:47:56.332Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:47:56.332Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:47:56.333Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:47:56.335Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:47:56.337Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:47:56.338Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:47:56.339Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:47:56.342Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:47:56.343Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:47:56.350Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:47:56.360Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:47:56.980Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:47:56.981Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:48:20.503Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:48:20.503Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:48:20.503Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:48:20.504Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:48:20.504Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:48:20.504Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:48:20.505Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:48:20.510Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:48:20.511Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:48:20.511Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:48:20.514Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:48:20.514Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:48:20.519Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:48:20.525Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:48:20.917Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:48:20.917Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:50:04.449Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:50:04.449Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:50:04.449Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=26292 --> us-central1-api
[debug] [2021-11-08T15:50:04.450Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:50:04.451Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:50:04.451Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:50:04.453Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:50:04.459Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:50:04.460Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:50:04.460Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:50:04.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:50:04.464Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292"}}
[debug] [2021-11-08T15:50:04.471Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:50:04.476Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:50:05.017Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:50:05.018Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:53:26.620Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:53:26.620Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:53:26.620Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=26292 --> us-central1-api
[debug] [2021-11-08T15:53:26.621Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:53:26.621Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:53:26.621Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:53:26.622Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:53:26.627Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:53:26.627Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:53:26.628Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:53:26.630Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:53:26.630Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292"}}
[debug] [2021-11-08T15:53:26.636Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:53:26.640Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:53:27.707Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:53:27.708Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:53:35.326Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:53:35.326Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:53:35.328Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=26292 --> us-central1-api
[debug] [2021-11-08T15:53:35.329Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:53:35.330Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:53:35.330Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: BUSY"}}
[debug] [2021-11-08T15:53:35.331Z] [runtime-status] [5696] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:53:35.338Z] [runtime-status] [5696] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:53:35.338Z] [runtime-status] [5696] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:53:35.339Z] [runtime-status] [5696] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\5696 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\5696"}}
[debug] [2021-11-08T15:53:35.341Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:53:35.342Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=26292, mapping to path=/payments/create?total=26292"}}
[debug] [2021-11-08T15:53:35.349Z] [runtime-status] [5696] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:53:35.352Z] [runtime-status] [5696] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5696] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:53:35.675Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: IDLE"}}
[debug] [2021-11-08T15:53:35.675Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:53:57.225Z] File C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-11-08T15:53:58.235Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-11-08T15:53:58.236Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: FINISHING"}}
[debug] [2021-11-08T15:53:58.236Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-11-08T15:53:58.237Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: FINISHING"}}
[debug] [2021-11-08T15:53:58.266Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-11-08T15:53:58.266Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-11-08T15:53:58.267Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-11-08T15:53:58.267Z] [worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\7628 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\7628"}}
[debug] [2021-11-08T15:53:58.267Z] [worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: BUSY"}}
[debug] [2021-11-08T15:53:58.270Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: exited"}}
[debug] [2021-11-08T15:53:58.270Z] [worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cddd22de-0ed8-432a-bd94-f86f17fe113d]: FINISHED"}}
[debug] [2021-11-08T15:53:58.270Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: exited"}}
[debug] [2021-11-08T15:53:58.270Z] [worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c85ee05b-022b-4a7d-b05c-7522cbe79fe9]: FINISHED"}}
[debug] [2021-11-08T15:53:58.755Z] [runtime-status] [7628] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:53:58.757Z] [runtime-status] [7628] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:53:58.767Z] [runtime-status] [7628] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.773Z] [runtime-status] [7628] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.778Z] [runtime-status] [7628] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:53:58.782Z] [runtime-status] [7628] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.901Z] [runtime-status] [7628] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:53:58.902Z] [runtime-status] [7628] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:53:58.904Z] [runtime-status] [7628] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.907Z] [runtime-status] [7628] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.912Z] [runtime-status] [7628] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:53:58.913Z] [runtime-status] [7628] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7628] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:53:59.330Z] [worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: IDLE"}}
[debug] [2021-11-08T15:54:11.607Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:54:11.607Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:54:11.607Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:54:11.608Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-11-08T15:54:11.608Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:54:11.622Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:54:11.622Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:54:11.623Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:54:11.623Z] [worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18340 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18340"}}
[debug] [2021-11-08T15:54:11.623Z] [worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: BUSY"}}
[debug] [2021-11-08T15:54:12.369Z] [runtime-status] [18340] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:54:12.372Z] [runtime-status] [18340] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:54:12.382Z] [runtime-status] [18340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.402Z] [runtime-status] [18340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.406Z] [runtime-status] [18340] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:54:12.409Z] [runtime-status] [18340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.661Z] [runtime-status] [18340] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:54:12.661Z] [runtime-status] [18340] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:54:12.665Z] [runtime-status] [18340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.671Z] [runtime-status] [18340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.674Z] [runtime-status] [18340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:12.675Z] [runtime-status] [18340] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:54:13.697Z] [runtime-status] [18340] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:54:13.701Z] [runtime-status] [18340] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:54:13.702Z] [runtime-status] [18340] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:54:13.776Z] [runtime-status] [18340] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18340 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18340"}}
[debug] [2021-11-08T15:54:13.817Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:54:13.818Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:54:13.862Z] [runtime-status] [18340] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:54:13.942Z] [runtime-status] [18340] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18340] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:54:15 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:54:15 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:54:15 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c', {"user":"      'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c',\r"}}
[info] >        'original-request': 'req_rIF3v9JtWYsVFo', {"user":"      'original-request': 'req_rIF3v9JtWYsVFo',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_rIF3v9JtWYsVFo',\r"}}
[info] >        'request-id': 'req_rIF3v9JtWYsVFo', {"user":"      'request-id': 'req_rIF3v9JtWYsVFo',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_rIF3v9JtWYsVFo',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_rIF3v9JtWYsVFo' {"user":"    requestId: 'req_rIF3v9JtWYsVFo'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_rIF3v9JtWYsVFo'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:54:15 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:54:15 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:54:15 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c', {"user":"    'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd4d8f509-f210-41a4-9fa6-e6ca8fd60f0c',\r"}}
[info] >      'original-request': 'req_rIF3v9JtWYsVFo', {"user":"    'original-request': 'req_rIF3v9JtWYsVFo',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_rIF3v9JtWYsVFo',\r"}}
[info] >      'request-id': 'req_rIF3v9JtWYsVFo', {"user":"    'request-id': 'req_rIF3v9JtWYsVFo',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_rIF3v9JtWYsVFo',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_rIF3v9JtWYsVFo', {"user":"  requestId: 'req_rIF3v9JtWYsVFo',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_rIF3v9JtWYsVFo',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:54:14.869Z] [worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: exited"}}
[debug] [2021-11-08T15:54:14.870Z] [worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8da3bab5-76d4-43e3-bdf4-e61e9a20f49d]: FINISHED"}}
[debug] [2021-11-08T15:54:14.870Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:54:18.647Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:54:18.648Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:54:18.648Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=25096 --> us-central1-api
[debug] [2021-11-08T15:54:18.649Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:54:18.668Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:54:18.668Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:54:18.668Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:54:18.668Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13400 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13400"}}
[debug] [2021-11-08T15:54:18.669Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: BUSY"}}
[debug] [2021-11-08T15:54:19.914Z] [runtime-status] [13400] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:54:19.917Z] [runtime-status] [13400] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:54:19.948Z] [runtime-status] [13400] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:19.958Z] [runtime-status] [13400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:19.962Z] [runtime-status] [13400] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:54:19.964Z] [runtime-status] [13400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:20.098Z] [runtime-status] [13400] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:54:20.099Z] [runtime-status] [13400] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:54:20.102Z] [runtime-status] [13400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:20.106Z] [runtime-status] [13400] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:20.109Z] [runtime-status] [13400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:54:20.110Z] [runtime-status] [13400] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:54:20.578Z] [runtime-status] [13400] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:54:20.580Z] [runtime-status] [13400] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:54:20.581Z] [runtime-status] [13400] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:54:20.589Z] [runtime-status] [13400] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13400 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13400"}}
[debug] [2021-11-08T15:54:20.596Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:54:20.596Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=25096, mapping to path=/payments/create?total=25096"}}
[debug] [2021-11-08T15:54:20.612Z] [runtime-status] [13400] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:54:20.643Z] [runtime-status] [13400] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:54:21.376Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: IDLE"}}
[debug] [2021-11-08T15:54:21.376Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:56:30.507Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:56:30.508Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:56:30.508Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T15:56:30.510Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:56:30.510Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13400 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13400"}}
[debug] [2021-11-08T15:56:30.510Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: BUSY"}}
[debug] [2021-11-08T15:56:30.512Z] [runtime-status] [13400] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:56:30.520Z] [runtime-status] [13400] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:56:30.520Z] [runtime-status] [13400] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:56:30.521Z] [runtime-status] [13400] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\13400 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\13400"}}
[debug] [2021-11-08T15:56:30.524Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:56:30.525Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T15:56:30.533Z] [runtime-status] [13400] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:56:30.550Z] [runtime-status] [13400] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13400] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 15:56:31 GMT', {"user":"      date: 'Mon, 08 Nov 2021 15:56:31 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 15:56:31 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002', {"user":"      'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002',\r"}}
[info] >        'original-request': 'req_990Fi3O0GP4MjL', {"user":"      'original-request': 'req_990Fi3O0GP4MjL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_990Fi3O0GP4MjL',\r"}}
[info] >        'request-id': 'req_990Fi3O0GP4MjL', {"user":"      'request-id': 'req_990Fi3O0GP4MjL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_990Fi3O0GP4MjL',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_990Fi3O0GP4MjL' {"user":"    requestId: 'req_990Fi3O0GP4MjL'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_990Fi3O0GP4MjL'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 15:56:31 GMT', {"user":"    date: 'Mon, 08 Nov 2021 15:56:31 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 15:56:31 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002', {"user":"    'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '43bfc3c6-180a-4ab8-bcbc-780132a38002',\r"}}
[info] >      'original-request': 'req_990Fi3O0GP4MjL', {"user":"    'original-request': 'req_990Fi3O0GP4MjL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_990Fi3O0GP4MjL',\r"}}
[info] >      'request-id': 'req_990Fi3O0GP4MjL', {"user":"    'request-id': 'req_990Fi3O0GP4MjL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_990Fi3O0GP4MjL',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_990Fi3O0GP4MjL', {"user":"  requestId: 'req_990Fi3O0GP4MjL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_990Fi3O0GP4MjL',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T15:56:31.165Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: exited"}}
[debug] [2021-11-08T15:56:31.166Z] [worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8178d520-64a6-4ab7-9d7f-af1fce84eca7]: FINISHED"}}
[debug] [2021-11-08T15:56:31.166Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T15:56:35.434Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T15:56:35.434Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T15:56:35.434Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T15:56:35.435Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T15:56:35.452Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T15:56:35.452Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T15:56:35.452Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T15:56:35.452Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18860 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18860"}}
[debug] [2021-11-08T15:56:35.453Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: BUSY"}}
[debug] [2021-11-08T15:56:36.711Z] [runtime-status] [18860] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T15:56:36.714Z] [runtime-status] [18860] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Disabled runtime features: undefined"}}
[debug] [2021-11-08T15:56:36.726Z] [runtime-status] [18860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.734Z] [runtime-status] [18860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.738Z] [runtime-status] [18860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T15:56:36.742Z] [runtime-status] [18860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.903Z] [runtime-status] [18860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T15:56:36.904Z] [runtime-status] [18860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:56:36.911Z] [runtime-status] [18860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.917Z] [runtime-status] [18860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.919Z] [runtime-status] [18860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T15:56:36.920Z] [runtime-status] [18860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T15:56:37.406Z] [runtime-status] [18860] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T15:56:37.409Z] [runtime-status] [18860] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T15:56:37.409Z] [runtime-status] [18860] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Running us-central1-api in signature http"}}
[debug] [2021-11-08T15:56:37.418Z] [runtime-status] [18860] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18860 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18860"}}
[debug] [2021-11-08T15:56:37.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T15:56:37.427Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T15:56:37.442Z] [runtime-status] [18860] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T15:56:37.472Z] [runtime-status] [18860] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T15:56:38.187Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: IDLE"}}
[debug] [2021-11-08T15:56:38.188Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:04:32.849Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:04:32.849Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:04:32.849Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T16:04:32.850Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:04:32.850Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18860 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18860"}}
[debug] [2021-11-08T16:04:32.850Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: BUSY"}}
[debug] [2021-11-08T16:04:32.852Z] [runtime-status] [18860] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:04:32.858Z] [runtime-status] [18860] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:04:32.858Z] [runtime-status] [18860] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:04:32.859Z] [runtime-status] [18860] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18860 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18860"}}
[debug] [2021-11-08T16:04:32.864Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:04:32.865Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T16:04:32.874Z] [runtime-status] [18860] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:04:32.881Z] [runtime-status] [18860] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18860] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 16:04:33 GMT', {"user":"      date: 'Mon, 08 Nov 2021 16:04:33 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 16:04:33 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b', {"user":"      'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b',\r"}}
[info] >        'original-request': 'req_JdpUy1riFoprRv', {"user":"      'original-request': 'req_JdpUy1riFoprRv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_JdpUy1riFoprRv',\r"}}
[info] >        'request-id': 'req_JdpUy1riFoprRv', {"user":"      'request-id': 'req_JdpUy1riFoprRv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JdpUy1riFoprRv',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_JdpUy1riFoprRv' {"user":"    requestId: 'req_JdpUy1riFoprRv'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JdpUy1riFoprRv'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 16:04:33 GMT', {"user":"    date: 'Mon, 08 Nov 2021 16:04:33 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 16:04:33 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b', {"user":"    'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'efe1e9db-087a-4f8b-8426-a64a634e332b',\r"}}
[info] >      'original-request': 'req_JdpUy1riFoprRv', {"user":"    'original-request': 'req_JdpUy1riFoprRv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_JdpUy1riFoprRv',\r"}}
[info] >      'request-id': 'req_JdpUy1riFoprRv', {"user":"    'request-id': 'req_JdpUy1riFoprRv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JdpUy1riFoprRv',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_JdpUy1riFoprRv', {"user":"  requestId: 'req_JdpUy1riFoprRv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JdpUy1riFoprRv',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T16:04:34.079Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: exited"}}
[debug] [2021-11-08T16:04:34.079Z] [worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8f3f8d12-088e-4a64-8cc8-3084907392c3]: FINISHED"}}
[debug] [2021-11-08T16:04:34.079Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:04:37.822Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:04:37.822Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:04:37.822Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:04:37.825Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T16:04:37.843Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T16:04:37.843Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T16:04:37.844Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:04:37.844Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11080 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11080"}}
[debug] [2021-11-08T16:04:37.844Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: BUSY"}}
[debug] [2021-11-08T16:04:39.649Z] [runtime-status] [11080] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T16:04:39.652Z] [runtime-status] [11080] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Disabled runtime features: undefined"}}
[debug] [2021-11-08T16:04:39.660Z] [runtime-status] [11080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.669Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.673Z] [runtime-status] [11080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T16:04:39.676Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.799Z] [runtime-status] [11080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T16:04:39.800Z] [runtime-status] [11080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:04:39.803Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.808Z] [runtime-status] [11080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.810Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:04:39.810Z] [runtime-status] [11080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:04:40.293Z] [runtime-status] [11080] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:04:40.295Z] [runtime-status] [11080] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:04:40.296Z] [runtime-status] [11080] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:04:40.306Z] [runtime-status] [11080] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11080 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11080"}}
[debug] [2021-11-08T16:04:40.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:04:40.316Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:04:40.363Z] [runtime-status] [11080] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:04:40.398Z] [runtime-status] [11080] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:04:41.096Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: IDLE"}}
[debug] [2021-11-08T16:04:41.096Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:08:05.217Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:08:05.218Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:08:05.218Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T16:08:05.219Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:08:05.219Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11080 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11080"}}
[debug] [2021-11-08T16:08:05.220Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: BUSY"}}
[debug] [2021-11-08T16:08:05.222Z] [runtime-status] [11080] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:08:05.230Z] [runtime-status] [11080] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:08:05.231Z] [runtime-status] [11080] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:08:05.231Z] [runtime-status] [11080] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\11080 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\11080"}}
[debug] [2021-11-08T16:08:05.235Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:08:05.235Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T16:08:05.246Z] [runtime-status] [11080] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:08:05.256Z] [runtime-status] [11080] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11080] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 16:08:06 GMT', {"user":"      date: 'Mon, 08 Nov 2021 16:08:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 16:08:06 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e', {"user":"      'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e',\r"}}
[info] >        'original-request': 'req_tayfO1QVeaoWu8', {"user":"      'original-request': 'req_tayfO1QVeaoWu8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tayfO1QVeaoWu8',\r"}}
[info] >        'request-id': 'req_tayfO1QVeaoWu8', {"user":"      'request-id': 'req_tayfO1QVeaoWu8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tayfO1QVeaoWu8',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_tayfO1QVeaoWu8' {"user":"    requestId: 'req_tayfO1QVeaoWu8'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tayfO1QVeaoWu8'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 16:08:06 GMT', {"user":"    date: 'Mon, 08 Nov 2021 16:08:06 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 16:08:06 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e', {"user":"    'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c260d792-618d-4a6a-b167-15960b5f5f3e',\r"}}
[info] >      'original-request': 'req_tayfO1QVeaoWu8', {"user":"    'original-request': 'req_tayfO1QVeaoWu8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tayfO1QVeaoWu8',\r"}}
[info] >      'request-id': 'req_tayfO1QVeaoWu8', {"user":"    'request-id': 'req_tayfO1QVeaoWu8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tayfO1QVeaoWu8',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_tayfO1QVeaoWu8', {"user":"  requestId: 'req_tayfO1QVeaoWu8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tayfO1QVeaoWu8',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T16:08:05.924Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: exited"}}
[debug] [2021-11-08T16:08:05.925Z] [worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6a96cb3b-35f5-416e-915c-e93c8a015825]: FINISHED"}}
[debug] [2021-11-08T16:08:05.925Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:08:11.606Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:08:11.607Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:08:11.607Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:08:11.607Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T16:08:11.625Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T16:08:11.625Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T16:08:11.625Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:08:11.625Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:08:11.626Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY"}}
[debug] [2021-11-08T16:08:13.133Z] [runtime-status] [20104] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T16:08:13.136Z] [runtime-status] [20104] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Disabled runtime features: undefined"}}
[debug] [2021-11-08T16:08:13.145Z] [runtime-status] [20104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.154Z] [runtime-status] [20104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.159Z] [runtime-status] [20104] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T16:08:13.162Z] [runtime-status] [20104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.310Z] [runtime-status] [20104] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T16:08:13.313Z] [runtime-status] [20104] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:08:13.316Z] [runtime-status] [20104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.323Z] [runtime-status] [20104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.327Z] [runtime-status] [20104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:08:13.328Z] [runtime-status] [20104] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:08:13.850Z] [runtime-status] [20104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:08:13.852Z] [runtime-status] [20104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:08:13.853Z] [runtime-status] [20104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:08:13.862Z] [runtime-status] [20104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:08:13.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:08:13.871Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:08:13.888Z] [runtime-status] [20104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:08:13.918Z] [runtime-status] [20104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:08:14.668Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE"}}
[debug] [2021-11-08T16:08:14.668Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:08:48.525Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:08:48.526Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:08:48.526Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:08:48.527Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:08:48.527Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:08:48.527Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY"}}
[debug] [2021-11-08T16:08:48.529Z] [runtime-status] [20104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:08:48.531Z] [runtime-status] [20104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:08:48.532Z] [runtime-status] [20104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:08:48.532Z] [runtime-status] [20104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:08:48.536Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:08:48.536Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:08:48.543Z] [runtime-status] [20104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:08:48.548Z] [runtime-status] [20104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:08:48.912Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE"}}
[debug] [2021-11-08T16:08:48.912Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:09:40.386Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:09:40.387Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:09:40.387Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:09:40.387Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:09:40.388Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:40.388Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY"}}
[debug] [2021-11-08T16:09:40.389Z] [runtime-status] [20104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:09:40.391Z] [runtime-status] [20104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:09:40.391Z] [runtime-status] [20104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:09:40.392Z] [runtime-status] [20104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:40.395Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:09:40.397Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:09:40.403Z] [runtime-status] [20104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:09:40.406Z] [runtime-status] [20104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:09:40.682Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE"}}
[debug] [2021-11-08T16:09:40.682Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:09:53.675Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:09:53.675Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:09:53.675Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:09:53.676Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:09:53.676Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:53.676Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY"}}
[debug] [2021-11-08T16:09:53.678Z] [runtime-status] [20104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:09:53.682Z] [runtime-status] [20104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:09:53.683Z] [runtime-status] [20104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:09:53.683Z] [runtime-status] [20104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:53.685Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:09:53.686Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:09:53.694Z] [runtime-status] [20104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:09:53.698Z] [runtime-status] [20104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:09:53.988Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: IDLE"}}
[debug] [2021-11-08T16:09:53.988Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:09:58.634Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:09:58.635Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:09:58.635Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-11-08T16:09:58.636Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:09:58.636Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:58.636Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: BUSY"}}
[debug] [2021-11-08T16:09:58.637Z] [runtime-status] [20104] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:09:58.639Z] [runtime-status] [20104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:09:58.640Z] [runtime-status] [20104] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:09:58.640Z] [runtime-status] [20104] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20104 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20104"}}
[debug] [2021-11-08T16:09:58.642Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:09:58.643Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-11-08T16:09:58.648Z] [runtime-status] [20104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:09:58.652Z] [runtime-status] [20104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20104] Ephemeral server survived."}}
[info] >  C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40 {"user":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at res.toJSON.then.StripeAPIError.message (C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\node_modules\stripe\lib\StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\stripe\\lib\\StripeResource.js:220:35)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 08 Nov 2021 16:09:59 GMT', {"user":"      date: 'Mon, 08 Nov 2021 16:09:59 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 08 Nov 2021 16:09:59 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e', {"user":"      'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e',\r"}}
[info] >        'original-request': 'req_Gcg5Yl7wrgQZOO', {"user":"      'original-request': 'req_Gcg5Yl7wrgQZOO',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Gcg5Yl7wrgQZOO',\r"}}
[info] >        'request-id': 'req_Gcg5Yl7wrgQZOO', {"user":"      'request-id': 'req_Gcg5Yl7wrgQZOO',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Gcg5Yl7wrgQZOO',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Gcg5Yl7wrgQZOO' {"user":"    requestId: 'req_Gcg5Yl7wrgQZOO'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Gcg5Yl7wrgQZOO'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 08 Nov 2021 16:09:59 GMT', {"user":"    date: 'Mon, 08 Nov 2021 16:09:59 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 08 Nov 2021 16:09:59 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e', {"user":"    'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd9954983-cb8a-4f31-a404-2c9ac969c71e',\r"}}
[info] >      'original-request': 'req_Gcg5Yl7wrgQZOO', {"user":"    'original-request': 'req_Gcg5Yl7wrgQZOO',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Gcg5Yl7wrgQZOO',\r"}}
[info] >      'request-id': 'req_Gcg5Yl7wrgQZOO', {"user":"    'request-id': 'req_Gcg5Yl7wrgQZOO',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Gcg5Yl7wrgQZOO',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Gcg5Yl7wrgQZOO', {"user":"  requestId: 'req_Gcg5Yl7wrgQZOO',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Gcg5Yl7wrgQZOO',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-11-08T16:09:59.488Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: exited"}}
[debug] [2021-11-08T16:09:59.488Z] [worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cca35157-6857-4e60-b252-688fde028822]: FINISHED"}}
[debug] [2021-11-08T16:09:59.488Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:10:03.924Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:10:03.924Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:10:03.924Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:10:03.925Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-11-08T16:10:03.941Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T16:10:03.941Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-11-08T16:10:03.942Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:10:03.942Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18016 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18016"}}
[debug] [2021-11-08T16:10:03.942Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: BUSY"}}
[debug] [2021-11-08T16:10:05.023Z] [runtime-status] [18016] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T16:10:05.026Z] [runtime-status] [18016] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Disabled runtime features: undefined"}}
[debug] [2021-11-08T16:10:05.043Z] [runtime-status] [18016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.054Z] [runtime-status] [18016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.058Z] [runtime-status] [18016] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T16:10:05.062Z] [runtime-status] [18016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.190Z] [runtime-status] [18016] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T16:10:05.191Z] [runtime-status] [18016] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:10:05.194Z] [runtime-status] [18016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.197Z] [runtime-status] [18016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.199Z] [runtime-status] [18016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:10:05.200Z] [runtime-status] [18016] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:10:05.684Z] [runtime-status] [18016] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:10:05.686Z] [runtime-status] [18016] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:10:05.687Z] [runtime-status] [18016] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:10:05.695Z] [runtime-status] [18016] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18016 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18016"}}
[debug] [2021-11-08T16:10:05.703Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:10:05.703Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:10:05.715Z] [runtime-status] [18016] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:10:05.747Z] [runtime-status] [18016] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:10:06.415Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: IDLE"}}
[debug] [2021-11-08T16:10:06.415Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:11:47.045Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2021-11-08T16:11:47.045Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:11:47.045Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:11:47.047Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:11:47.048Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18016 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18016"}}
[debug] [2021-11-08T16:11:47.048Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: BUSY"}}
[debug] [2021-11-08T16:11:47.049Z] [runtime-status] [18016] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:11:47.052Z] [runtime-status] [18016] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:11:47.052Z] [runtime-status] [18016] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:11:47.053Z] [runtime-status] [18016] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\18016 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\18016"}}
[debug] [2021-11-08T16:11:47.056Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:11:47.057Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:11:47.063Z] [runtime-status] [18016] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:11:47.071Z] [runtime-status] [18016] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18016] Ephemeral server survived."}}
[debug] [2021-11-08T16:11:47.391Z] [work-queue] {"queueLength":1,"workRunningCount":21}
[debug] [2021-11-08T16:11:47.391Z] [work-queue] {"queueLength":0,"workRunningCount":22}
[debug] [2021-11-08T16:11:47.391Z] Accepted request POST /challenge-ba906/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2021-11-08T16:11:47.406Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-11-08T16:11:47.406Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-11-08T16:11:47.406Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-11-08T16:11:47.406Z] [worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: Assigning socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20208 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20208"}}
[debug] [2021-11-08T16:11:47.406Z] [worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:11:47.685Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: IDLE"}}
[debug] [2021-11-08T16:11:47.686Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2021-11-08T16:11:47.935Z] [runtime-status] [20208] Functions runtime initialized. {"cwd":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2021-11-08T16:11:47.937Z] [runtime-status] [20208] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Disabled runtime features: undefined"}}
[debug] [2021-11-08T16:11:47.943Z] [runtime-status] [20208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:47.954Z] [runtime-status] [20208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:47.956Z] [runtime-status] [20208] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-11-08T16:11:47.959Z] [runtime-status] [20208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:48.108Z] [runtime-status] [20208] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-11-08T16:11:48.108Z] [runtime-status] [20208] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:11:48.110Z] [runtime-status] [20208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:48.118Z] [runtime-status] [20208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:48.120Z] [runtime-status] [20208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.16.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.16.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-11-08T16:11:48.121Z] [runtime-status] [20208] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"C:\\\\Users\\\\Anas\\\\Documents\\\\Amazon2.0\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-11-08T16:11:49.380Z] [runtime-status] [20208] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-11-08T16:11:49.388Z] [runtime-status] [20208] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-11-08T16:11:49.388Z] [runtime-status] [20208] Running us-central1-api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Running us-central1-api in signature http"}}
[debug] [2021-11-08T16:11:49.407Z] [runtime-status] [20208] Attempting to listen to socketPath: \\?\pipe\C:\Users\Anas\Documents\Amazon2.0\amazon-clone\functions\20208 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\Anas\\Documents\\Amazon2.0\\amazon-clone\\functions\\20208"}}
[debug] [2021-11-08T16:11:49.419Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-11-08T16:11:49.419Z] [functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-ba906/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2021-11-08T16:11:49.437Z] [runtime-status] [20208] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Ephemeral server handling POST request"}}
[info] >  payment Request Rescived BOOM!! {"user":"payment Request Rescived BOOM!!","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment Request Rescived BOOM!!"}}
[debug] [2021-11-08T16:11:49.471Z] [runtime-status] [20208] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20208] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-11-08T16:11:50.225Z] [worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: IDLE"}}
[debug] [2021-11-08T16:11:50.225Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2021-11-08T16:13:17.276Z] Received signal SIGHUP 1
[info]  
[info] i  emulators: Received SIGHUP for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGHUP signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[debug] [2021-11-08T16:13:17.290Z] [worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: exited"}}
[debug] [2021-11-08T16:13:17.291Z] [worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-31f399d6-2c1d-4177-a716-90809dbb2c8a]: FINISHED"}}
[debug] [2021-11-08T16:13:17.291Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: exited"}}
[debug] [2021-11-08T16:13:17.291Z] [worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d9701b99-64fa-4fce-a4d0-27859b9666e0]: FINISHED"}}
[debug] [2021-11-08T16:13:17.291Z] [worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: exited"}}
[debug] [2021-11-08T16:13:17.291Z] [worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ef82ca29-2a99-4202-a922-f2991eabb1dc]: FINISHED"}}
[warn] !  Emulator UI has exited upon receiving signal: SIGINT 
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  functions: Waiting for all functions to finish... {"metadata":{"emulator":{"name":"functions"},"message":"Waiting for all functions to finish..."}}
